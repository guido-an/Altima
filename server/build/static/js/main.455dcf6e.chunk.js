(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{116:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);a(88);var n=a(0),r=a.n(n),o=a(29),c=a.n(o),s=(a(93),a(5)),i=a(4),l=a(6),u=a(7),p=a(8),m=a(23),h=a(12),d=a(1),f=a.n(d),g=a(9),v=a(21),b=a.n(v);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=r.a.createContext(),x=b.a.create({baseURL:"https://altima-app.herokuapp.com/",withCredentials:!0}),j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loggedInUser:null,isLoadingUser:!0,unreadNotifications:null},a.signup=function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/auth/signup",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.login=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.post("/auth/login",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.logout=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/auth/logout");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),a.loggedin=Object(g.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/auth/loggedin");case 2:return t=e.sent,a=t.data,e.abrupt("return",a.user);case 5:case"end":return e.stop()}}),e)}))),a.setUser=function(e){a.setState({loggedInUser:e})},a.fetchUser=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching user"),e.prev=1,e.next=4,a.loggedin();case 4:t=e.sent,a.setState({loggedInUser:t,isLoadingUser:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({loggedInUser:null});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),a.getUnreadNotifications=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/profile/unread-notifications");case 3:t=e.sent,a.setState({unreadNotifications:t.data.unreadNotifications}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.resetUnreadNotifications=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/profile/reset-unread-notifications");case 3:a.setState({unreadNotifications:0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.signup,t=this.login,a=this.logout,n=this.setUser,o=this.fetchUser,c=this.getUnreadNotifications,s=this.resetUnreadNotifications;return r.a.createElement(O.Provider,{value:E({},this.state,{signup:e,login:t,logout:a,setUser:n,fetchUser:o,getUnreadNotifications:c,resetUnreadNotifications:s})},this.props.children)}}]),t}(r.a.Component),k=O,C=a(11),w=function(e){var t=e.component,a=e.user,n=Object(C.a)(e,["component","user"]);return r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,{user:a},n)):r.a.createElement(m.a,{to:"/login"})}}))},N=a(14),A=b.a.create({baseURL:"https://altima-app.herokuapp.com/",withCredentials:!0}),S=function(){var e=Object(g.a)(f.a.mark((function e(t,a,n,r,o,c,s){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/profile/edit/".concat(t),{mediaFile:a,firstName:n,lastName:r,team:o,country:c,hometown:s});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o,c,s){return e.apply(this,arguments)}}(),P=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post("/profile/add-categories",{categories:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/profile/notifications/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=r.a.createContext(),F=b.a.create({baseURL:"https://altima-app.herokuapp.com/",withCredentials:!0}),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={allCategories:[],selectedCategoriesIds:[]},a.getCategories=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/categories/all");case 3:t=e.sent,a.setState({allCategories:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.onSelectCategories=function(e){var t=e.target.name;e.target.checked?a.setState({selectedCategoriesIds:[].concat(Object(N.a)(a.state.selectedCategoriesIds),[t])}):a.removeUserCategory(t)},a.cleanSelectedCategoriesIds=function(){a.setState({selectedCategoriesIds:[]})},a.removeUserCategory=function(e){var t=Object(N.a)(a.state.selectedCategoriesIds);if(t.includes(e)){var n=t.filter((function(t){return t!==e}));a.setState({selectedCategoriesIds:n})}},a.onSubmitUserCategories=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,P(a.state.selectedCategoriesIds);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.getCategories,t=this.onSelectCategories,a=this.removeUserCategory,n=this.onSubmitUserCategories,o=this.cleanSelectedCategoriesIds;return r.a.createElement(L.Provider,{value:M({},this.state,{getCategories:e,onSelectCategories:t,removeUserCategory:a,onSubmitUserCategories:n,cleanSelectedCategoriesIds:o})},this.props.children)}}]),t}(r.a.Component),B=L;function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=r.a.createContext(),_=b.a.create({baseURL:"https://altima-app.herokuapp.com/",withCredentials:!0}),W=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={feedPosts:[],feedPostsCopy:[],userPosts:[],mapsPost:[],mapsMarkers:[],mapsPostCopy:[]},a.getFeedPosts=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/post/all");case 3:return t=e.sent,a.setState({feedPosts:t.data,feedPostsCopy:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.getUserPosts=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/post/user/".concat(t));case 3:n=e.sent,a.setState({userPosts:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.getMapPosts=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/post/all/spot");case 3:return t=e.sent,a.setState({mapsPost:t.data,mapsPostCopy:t.data,mapsMarkers:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),a.createPost=function(){var e=Object(g.a)(f.a.mark((function e(t,a,n,r,o){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,"media con context"),e.prev=1,e.next=4,_.post("/post/new",{title:t,content:a,mediaFile:n,location:r,categories:o});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),a.likePost=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post("/post/like/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),a.commentPost=function(){var e=Object(g.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.post("/post/".concat(t,"/comment"),{content:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),a.getSinglePost=function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("/post/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.filterOnBoundsSearch=function(e){var t=[];a.state.mapsMarkers.forEach((function(a){a.spot&&(a.spot.placeId==e.place_id||a.spot.location.coordinates.lat>=e.geometry.bounds.Ya.i&&a.spot.location.coordinates.lat<=e.geometry.bounds.Ya.j&&a.spot.location.coordinates.lng>=e.geometry.bounds.Ua.i&&a.spot.location.coordinates.lng<=e.geometry.bounds.Ua.j)&&t.push(a)})),console.log(t,"inside spot"),a.setState({mapsPost:t})},a.filterPostsOnCategoryHome=function(){var e=a.filterPostsOnCategory(a.state.feedPostsCopy);a.setState({feedPosts:e}),0==a.context.selectedCategoriesIds.length&&a.setState({feedPosts:a.state.feedPostsCopy})},a.filterOnSpotClick=function(e){var t=a.state.mapsMarkers.filter((function(t){if(t.spot&&t.spot.placeId==e)return t}));a.setState({mapsPost:t})},a.filterMarkersOnMap=function(){var e=[],t=a.context.selectedCategoriesIds;a.state.mapsPostCopy.forEach((function(a){a.categories.some((function(e){return t.includes(e)}))&&(e=[].concat(Object(N.a)(e),[a]))})),a.setState({mapsMarkers:e}),0===t.length&&a.setState({mapsMarkers:a.state.mapsPostCopy})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.getFeedPosts,t=this.getUserPosts,a=this.getMapPosts,n=this.createPost,o=this.likePost,c=this.commentPost,s=this.getSinglePost,i=this.filterOnBoundsSearch,l=this.filterOnSpotClick,u=this.filterMarkersOnMap,p=this.filterPostsOnCategoryHome;return r.a.createElement(Y.Provider,{value:R({},this.state,{getFeedPosts:e,getUserPosts:t,getMapPosts:a,createPost:n,likePost:o,commentPost:c,getSinglePost:s,filterOnBoundsSearch:i,filterOnSpotClick:l,filterMarkersOnMap:u,filterPostsOnCategoryHome:p})},this.props.children)}}]),t}(r.a.Component);W.contextType=B;var G=Y,X=(a(55),a(77)),H=a.n(X),Q=(a(116),a(67)),J=a.n(Q),V=a(68),z=(a(126),a(201));function Z(e){var t=e.date;return r.a.createElement("div",null,r.a.createElement(z.a,{date:t,className:"time-ago"}))}var q=a(70),K=a.n(q),$=a(75),ee=a.n($),te=a(74),ae=a.n(te),ne=a(76),re=a.n(ne),oe=a(72),ce=a.n(oe),se=a(71),ie=a.n(se),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={post:a.props.post},a.likePostAndUpdateIt=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.post._id,e.prev=1,e.next=4,a.props.likePost(t);case 4:return e.next=6,a.context.getSinglePost(t);case 6:n=e.sent,a.setState({post:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0,"err");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),a.isInclude=function(e){return e.includes(a.props.loggedInUser._id)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"post-card-container"},r.a.createElement("div",{className:"post-card-header"},r.a.createElement("div",null,r.a.createElement("img",{className:"ui avatar image circular",src:this.state.post.user.mediaFile.url?this.state.post.user.mediaFile.url:K.a})),r.a.createElement("div",{className:"post-card-header-content"},r.a.createElement("p",null,r.a.createElement("strong",null,this.state.post.user.firstName," ",this.state.post.user.lastName)),r.a.createElement("div",{className:"spot-info"},r.a.createElement("span",null," ",r.a.createElement(Z,{date:Date.parse(this.state.post.created_at)})," "),r.a.createElement("span",{className:"dot-location"}),r.a.createElement("span",{className:"location-name"},r.a.createElement(ce.a,null)," ",this.state.post.spot&&this.state.post.spot.location.terms?this.state.post.spot.location.terms[0].value:"Its a mistery :o")))),r.a.createElement("div",null,r.a.createElement(V.Carousel,{showArrows:!1,showThumbs:!1,showStatus:!1,infiniteLoop:this.state.post.mediaFile.length>=2,dynamicHeight:!0,cancelable:!1},this.state.post.mediaFile&&this.state.post.mediaFile.map((function(e){return"v"==e.type[0]?r.a.createElement("div",null,r.a.createElement(J.a,{className:"react-player",playing:!1,loop:!0,controls:!0,playIcon:"",url:e.url,width:"100%",height:"100%"})):"i"==e.type[0]?r.a.createElement("img",{src:e.url,style:{maxWidth:"100vw",left:"0px"}}):void 0})))),r.a.createElement("div",{className:"post-card-icons"},r.a.createElement("div",{className:this.isInclude(this.state.post.likes)?"like":"",onClick:this.likePostAndUpdateIt},r.a.createElement(ae.a,null),r.a.createElement("br",null),r.a.createElement("p",null,this.state.post.likes.length)),r.a.createElement("div",{className:"coment"},r.a.createElement(ee.a,null),r.a.createElement("p",null,this.state.post.comments.length)),r.a.createElement("div",{className:"share"},r.a.createElement(re.a,null))),r.a.createElement("p",{className:"description"},r.a.createElement(ie.a,{text:this.state.post.content,min:70,ideal:75,max:85,readMoreText:"...READ MORE"})),r.a.createElement("div",{className:"spacer"}))}}]),t}(r.a.Component);le.contextType=G;var ue=le,pe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.posts&&this.props.posts.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement(ue,{post:t,likePost:e.props.likePost,loggedInUser:e.context.loggedInUser}))})))}}]),t}(r.a.Component);pe.contextType=k;var me=pe,he=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.context.getFeedPosts()}},{key:"render",value:function(){return r.a.createElement(me,{posts:this.context.feedPosts,likePost:this.context.likePost,commentPost:this.context.commentPost})}}]),t}(r.a.Component);he.contextType=G;var de=he,fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onFilterCategoryChange=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.context.onSelectCategories(t);case 2:a.props.postContext.filterPostsOnCategoryHome();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onMyFeed=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.context.cleanSelectedCategoriesIds(),this.context.getCategories()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"feed-cat"},r.a.createElement("div",{className:"onboarding"},r.a.createElement("div",{className:"item"},r.a.createElement("button",{onClick:this.onMyFeed},"My Feed")),this.context.allCategories.map((function(t){return r.a.createElement("div",{key:t._id,className:"item"},r.a.createElement("label",{className:"container"},r.a.createElement("input",{onChange:e.onFilterCategoryChange,type:"checkbox",name:t._id}),r.a.createElement("span",{className:"checkmark  ".concat(t.name)},t.name)))}))))}}]),t}(r.a.Component);fe.contextType=B;var ge=fe,ve=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"feed-header"},r.a.createElement("h1",null,"altima"),r.a.createElement(H.a,null)),r.a.createElement(ge,{postContext:this.context}),r.a.createElement(de,null))}}]),t}(r.a.Component);ve.contextType=G;var be=ve,ye=(a(130),a(10)),Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={content:"",mediaFile:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile-body"},r.a.createElement(ye.b,{to:"/profile/edit/".concat(this.context.loggedInUser&&this.context.loggedInUser._id),className:"item"},r.a.createElement("i",{className:"user icon"})),r.a.createElement("h4",{className:"header"},"Federico Barriola"),r.a.createElement("div",{className:"content right floated profile-basics"},r.a.createElement("div",{className:"ui horizontal list"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"Posts"),r.a.createElement("p",null,"50"))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"Followers"),r.a.createElement("p",null,"440"))),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},"Following"),r.a.createElement("p",null,"500"))))),r.a.createElement("button",{className:"ui primary fluid button"},"Follow"),r.a.createElement("div",{className:"block"},r.a.createElement("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's.")),r.a.createElement("div",{className:"ui two item profile-menu"},r.a.createElement("a",{className:"item active"},"Posts"),r.a.createElement("a",{className:"item"},"liked")))}}]),t}(r.a.Component);Ee.contextType=k;var Oe=Ee,xe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userId;this.context.getUserPosts(e)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(me,{posts:this.context.userPosts,likePost:this.context.likePost,commentPost:this.context.commentPost}))}}]),t}(r.a.Component);xe.contextType=G;var je=xe,ke=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return r.a.createElement("div",null,r.a.createElement(Oe,null),r.a.createElement(je,{userId:e}))}}]),t}(r.a.Component),Ce=(a(131),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a.onSubmitUserCategories=function(e){a.props.categoryContext.onSubmitUserCategories(e),a.setState({redirect:!0})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.categoryContext.cleanSelectedCategoriesIds(),this.props.categoryContext.getCategories()}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"category ui secondary fluid three item"},r.a.createElement("div",{className:"onboarding"},this.props.categoryContext.allCategories.map((function(t){return r.a.createElement("div",{key:t._id,className:"item"},r.a.createElement("label",{className:"container"},r.a.createElement("input",{onChange:e.props.categoryContext.onSelectCategories,type:"checkbox",name:t._id}),r.a.createElement("span",{className:"checkmark  ".concat(t.name)}),r.a.createElement("label",{className:"cat-name"},t.name)))}))),r.a.createElement("form",{onSubmit:this.onSubmitUserCategories},this.props.categoryContext.selectedCategoriesIds.length>=1?r.a.createElement("button",null,"Done"):""))}}]),t}(r.a.Component)),we=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"onb-title"},"Choose the sports you enjoy"),r.a.createElement(Ce,{categoryContext:this.context}))}}]),t}(r.a.Component);we.contextType=B;var Ne=we,Ae=(a(132),a(30)),Se=a(28),Pe=(a(134),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onInputSelect=function(e){Object(Se.b)(e.description).then((function(e){return Object(Se.c)(e[0])})).then((function(t){var n=t.lat,r=t.lng;e.coordinates={lat:n,lng:r},a.props.getLocation(e)}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Se.a,{onSelect:this.onInputSelect,placeholder:"Search cities, places and more...",onError:this.onError}))}}]),t}(r.a.Component)),Ue=Object(Ae.GoogleApiWrapper)({apiKey:"AIzaSyDT2LLs0KEbMIeBNLCeF27BnZsLRcCrgUw"})(Pe),Ie=(a(150),b.a.create({baseURL:"https://altima-app.herokuapp.com/",withCredentials:!0})),Me=function(){var e=Object(g.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.get("/spot/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(g.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.post("/spot/follow",{spotPlaceId:t,location:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fe=a(41),De=a.n(Fe),Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={spot:null,isFollowingSpot:null},a.getSingleSpot=Object(g.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.activeMarker.place_id,e.prev=1,e.next=4,Me(t);case 4:n=e.sent,a.setState({spot:n[0]}),a.checkIfAlreadyFollowing(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),a.checkIfAlreadyFollowing=function(){var e=a.state.spot;e&&e.followedBy.includes(a.context.loggedInUser._id)?(console.log("following"),a.setState({isFollowingSpot:!0})):(console.log("not following"),a.setState({isFollowingSpot:!1}))},a.followSpot=function(){var e=Object(g.a)(f.a.mark((function e(t,n,r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.activeMarker.place_id,r=a.props.activeMarker,t.preventDefault(),e.prev=3,e.next=6,Le(n,r);case 6:return e.next=8,a.getSingleSpot();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0,"message");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSingleSpot();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.activeMarker.place_id===this.props.activeMarker.place_id){e.next=3;break}return e.next=3,this.getSingleSpot();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.activeMarker.description?this.props.activeMarker.description.split(",")[0]:this.props.activeMarker.location.terms[0].value;return r.a.createElement("div",{className:"spot-header-section"},r.a.createElement("div",{className:"divider"}),r.a.createElement("div",{className:"spot-header-container"},r.a.createElement("h1",null,e),r.a.createElement("form",{onSubmit:this.followSpot},!0===this.state.isFollowingSpot?r.a.createElement("button",{className:"unfollow-btn"},"Unfollow"):r.a.createElement("button",{className:"follow-btn"},"Follow"))),r.a.createElement("div",{className:"spot-info"},r.a.createElement("span",null,this.state.spot&&this.state.spot.followedBy.length||0," Followers"),r.a.createElement("span",{className:"dot"}),r.a.createElement("span",null,this.state.spot&&this.state.spot.posts.length," Posts")))}}]),t}(r.a.Component);Be.contextType=k;var Te=Be,Re=function(e){var t=e.activeMarker,a=t.description?t.description.split(",")[0]:t.location.terms[0].value;return r.a.createElement("div",{style:{textAlign:"center",marginTop:"80px"}},r.a.createElement("p",{style:{fontSize:"18px",color:"#737373"}},"There are no posts here just yet"),r.a.createElement("br",null),r.a.createElement("p",{style:{fontSize:"18px",color:"#737373",position:"relative",bottom:"30px"}},"Be the first to tell the world about ",a),r.a.createElement(ye.b,{to:"/create-post"},"Create a post"))},Ye=(a(151),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={categoriesLikedByUser:[]},a.onFilterCategoryChange=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.target.name,e.next=3,a.props.categoryContext.onSelectCategories(t);case 3:a.props.postContext.filterMarkersOnMap(),a.props.activeMarker&&a.props.getLocation(a.props.activeMarker);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.findCategoriesLikedByUser=function(){var e=[];a.props.categoryContext.allCategories.forEach((function(t){t.usersFollowing.includes(a.context.loggedInUser._id)&&(e=[].concat(Object(N.a)(e),[t]))})),a.setState({categoriesLikedByUser:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.categoryContext.cleanSelectedCategoriesIds(),e.next=3,this.props.categoryContext.getCategories();case 3:this.findCategoriesLikedByUser();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.props.categoryContext.allCategories,"this.props.categoryContext.allCategories"),r.a.createElement("div",{className:"categories-on-map"},r.a.createElement("div",{className:"wrapper-categories"},this.state.categoriesLikedByUser.map((function(t,a){return r.a.createElement("div",{key:a,className:"item"},r.a.createElement("label",{className:"container "},r.a.createElement("input",{onChange:e.onFilterCategoryChange,type:"checkbox",name:t._id}),r.a.createElement("span",{className:"checkmark"},t.name)))}))),r.a.createElement("div",{className:"all-categories"},r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")))}}]),t}(r.a.Component));Ye.contextType=k;var _e=Ye,We=a(78),Ge=a.n(We),Xe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={lat:null,lng:null,activeMarker:null,errorMessage:"",areaCoordinates:null},a.getPosts=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.context.getMapPosts();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),a.getLocation=function(e){var t=e.description?e.description:e.location.description,n=e.coordinates||e.location.coordinates,r=n.lat,o=n.lng;Object(Se.b)(t).then((function(t){a.setState({areaCoordinates:t[0]}),a.state.areaCoordinates.geometry.bounds?a.context.filterOnBoundsSearch(a.state.areaCoordinates):a.context.filterOnSpotClick(e.place_id),a.setState({activeMarker:e,lat:r,lng:o})})).catch((function(e){return console.error(e)}))},a.onMarkerClick=function(e){a.getLocation(e.location)},a.onMapClicked=function(e){a.setState({activeMarker:null})},a.getUserLocation=function(){window.navigator.geolocation.getCurrentPosition((function(e){a.setState({lat:e.coords.latitude,lng:e.coords.longitude})}),(function(e){a.setState({errorMessage:e.message})}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getUserLocation()}},{key:"renderMap",value:function(){var e=this;return this.state.errorMessage?r.a.createElement("div",null,"Error message: ",this.state.errorMessage):!this.state.errorMessage&&this.state.lat&&this.state.lng?r.a.createElement(Ae.Map,{onClick:this.onMapClicked,onReady:this.getPosts,onDragend:this.centerMoved,google:this.props.google,style:{width:"100%",height:"100%"},zoom:6,center:{lat:this.state.lat,lng:this.state.lng}},this.context.mapsMarkers&&this.context.mapsMarkers.map((function(t,a){if(t.spot)return r.a.createElement(Ae.Marker,{onClick:e.onMarkerClick,place_id:t.spot.location.place_id,location:t.spot.location,postsNumber:t.spot.posts.length,key:a,icon:e.state.activeMarker&&e.state.activeMarker.place_id==t.spot.location.place_id?De.a:Ge.a,position:{lat:t.spot.location.coordinates.lat,lng:t.spot.location.coordinates.lng}})}))):r.a.createElement("p",null,"Loading..")}},{key:"render",value:function(){return r.a.createElement("div",{className:"map-wrapper"},r.a.createElement("div",{className:"places-container"},r.a.createElement(Ue,{getLocation:this.getLocation})),r.a.createElement(_e,{getLocation:this.getLocation,categoryContext:this.props.categoryContext,postContext:this.context,activeMarker:this.state.activeMarker}),r.a.createElement("div",{id:"map"},this.renderMap()),r.a.createElement("div",{className:"map-feed"},this.state.activeMarker&&r.a.createElement(Te,{activeMarker:this.state.activeMarker,mapsPost:this.context.mapsPost}),this.state.activeMarker&&this.context.mapsPost.length>=1&&r.a.createElement(me,{posts:this.context.mapsPost,likePost:this.context.likePost,commentPost:this.context.commentPost}),this.state.activeMarker&&0===this.context.mapsPost.length&&r.a.createElement(Re,{activeMarker:this.state.activeMarker})))}}]),t}(r.a.Component);Xe.contextType=G;var He=Object(Ae.GoogleApiWrapper)({apiKey:"AIzaSyDT2LLs0KEbMIeBNLCeF27BnZsLRcCrgUw"})(Xe),Qe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(He,{categoryContext:this.context}))}}]),t}(r.a.Component);Qe.contextType=B;var Je=Qe,Ve=a(35),ze=a.n(Ve);a(172);ze.a.initializeApp({apiKey:"AIzaSyB_vGUTDEhzLLBOEurMAMq-MLWJXhakXmA",authDomain:"hurricane-f3d3.firebaseapp.com",databaseURL:"https://hurricane-f3d3.firebaseio.com",projectId:"hurricane-f3d3",storageBucket:"hurricane-f3d3.appspot.com",messagingSenderId:"6599025301",appId:"1:6599025301:web:9b4a2bb243699265b9319c",measurementId:"G-7QPDNKG1YM"});var Ze=ze.a.storage(),qe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={image:null,url:"",progress:0},a.handleUpload=function(e){if(e.target.files[0]){var t=e.target.files[0];Ze.ref("images/".concat(t.name)).put(t).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.setState({progress:t})}),(function(e){console.log(e)}),(function(){Ze.ref("images").child(t.name).getDownloadURL().then((function(e){var n={};console.log(t,"image"),n.type=t.type,n.url=e,a.props.getMediaFile(n),a.setState({url:e})}))}))}},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("progress",{value:this.state.progress,max:"100",className:"progress"})),r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.handleUpload})),r.a.createElement("img",{src:this.state.url,alt:"Uploaded Images",height:"300",width:"400"}))}}]),t}(n.Component),Ke=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.context.getCategories()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.context.allCategories.map((function(t){return r.a.createElement("div",{key:t._id},r.a.createElement("span",null,t.name),r.a.createElement("input",{onChange:e.context.onSelectCategories,type:"checkbox",name:t._id}))})))}}]),t}(r.a.Component);Ke.contextType=B;var $e=Ke,et=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",content:"",mediaFile:[],location:null,redirect:!1},a.onSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.props.postContext.createPost(a.state.title,a.state.content,a.state.mediaFile,a.state.location,a.context.selectedCategoriesIds);case 4:a.setState({redirect:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.onInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.getMediaFile=function(e){a.setState({mediaFile:[].concat(Object(N.a)(a.state.mediaFile),[e])})},a.getLocation=function(e){a.setState({location:e})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.context.cleanSelectedCategoriesIds();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.redirect?r.a.createElement(m.a,{to:"/"}):(console.log("midia",this.state.mediaFile),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{onChange:this.onInputChange,type:"text",placeholder:"title",name:"title"}),r.a.createElement("input",{onChange:this.onInputChange,type:"text",placeholder:"content",name:"content"}),r.a.createElement(Ue,{getLocation:this.getLocation}),r.a.createElement($e,null),r.a.createElement("button",null,"Create post")),r.a.createElement(qe,{getMediaFile:this.getMediaFile})))}}]),t}(r.a.Component);et.contextType=B;var tt=et,at=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"new post page"),r.a.createElement(tt,{postContext:this.context}))}}]),t}(r.a.Component);at.contextType=G;var nt=at,rt=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Landing"),r.a.createElement(ye.b,{to:"/login"},"Login"),r.a.createElement(ye.b,{to:"/signup"},"Signup"))},ot=(a(156),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={notifications:[]},a.getNotifications=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context.loggedInUser._id,e.prev=1,e.next=4,U(t);case 4:n=e.sent,a.setState({notifications:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getNotifications();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.context.resetUnreadNotifications(this.context.loggedInUser._id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"notifications-section"},r.a.createElement("h1",null,"Notifications"),this.state.notifications.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("div",{className:"text"},r.a.createElement("span",{className:"orange-dot"}),r.a.createElement(ye.b,{to:e.postUrl},r.a.createElement("p",null,r.a.createElement("strong",null,e.name)," ",e.action,"  "))),r.a.createElement(Z,{date:e.date})),r.a.createElement("p",null,"image")))})))}}]),t}(r.a.Component));ot.contextType=k;var ct=ot,st=(a(157),a(79)),it=a.n(st),lt=a(80),ut=a.n(lt),pt=a(81),mt=a.n(pt),ht=a(82),dt=a.n(ht),ft=a(83),gt=a.n(ft),vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logoutUser=function(){a.context.logout().then((function(){a.context.setUser(null)}))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"absolute-bot"},r.a.createElement("div",{className:"ui secondary fluid five item menu"},r.a.createElement(ye.c,{to:"/",className:"item",activeClassName:"active",exact:!0},r.a.createElement(it.a,{className:"icon-navbar"})),r.a.createElement(ye.c,{to:"/spots-map",className:"item",activeClassName:"active"},r.a.createElement(ut.a,{className:"icon-navbar"})),r.a.createElement(ye.c,{to:"/create-post",className:"item",activeClassName:"active"},r.a.createElement(mt.a,{className:"icon-navbar"})),r.a.createElement(ye.c,{to:"/".concat(this.context.loggedInUser._id,"/notifications"),className:"item",activeClassName:"active",exact:!0},r.a.createElement(dt.a,{className:"icon-navbar"}),this.context.unreadNotifications>=1&&r.a.createElement("div",{className:"notification-number-1"},r.a.createElement("span",null,this.context.unreadNotifications)),this.context.unreadNotifications>=10&&r.a.createElement("div",{className:"notification-number-2"},r.a.createElement("span",null,"10+"))),r.a.createElement(ye.c,{to:"/profile/".concat(this.context.loggedInUser._id),className:"item",activeClassName:"active"},r.a.createElement(gt.a,{className:"icon-navbar"})),r.a.createElement(ye.c,{onClick:this.logoutUser,to:"/"},"Logout")))}}]),t}(r.a.Component);vt.contextType=k;var bt=vt,yt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={mediaFile:[],firstName:"",lastName:"",team:"",hometown:"",country:""},a.onSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,S(a.context.loggedInUser._id,a.state.mediaFile,a.state.firstName,a.state.lastName,a.state.team,a.state.hometown,a.state.country);case 4:a.context.fetchUser(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),a.onInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.getMediaFile=function(e){a.setState({mediaFile:[].concat(Object(N.a)(a.state.mediaFile),[e])})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement(qe,{getMediaFile:this.getMediaFile}),r.a.createElement("input",{onChange:this.onInputChange,placeholder:this.context.loggedInUser&&this.context.loggedInUser.firstName,type:"text",name:"firstName"}),r.a.createElement("input",{onChange:this.onInputChange,placeholder:this.context.loggedInUser&&this.context.loggedInUser.lastName,type:"text",name:"lastName"}),r.a.createElement("input",{onChange:this.onInputChange,placeholder:this.context.loggedInUser&&this.context.loggedInUser.team,type:"text",name:"team"}),r.a.createElement("input",{onChange:this.onInputChange,placeholder:this.context.loggedInUser&&this.context.loggedInUser.hometown,type:"text",name:"hometown"}),r.a.createElement("input",{onChange:this.onInputChange,placeholder:this.context.loggedInUser&&this.context.loggedInUser.country,type:"text",name:"country"}),r.a.createElement("button",null,"Update User")))}}]),t}(r.a.Component);yt.contextType=k;var Et=yt,Ot=(a(158),a(40),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.handleSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.context.signup(a.state);case 4:a.context.setUser(a.state),a.context.fetchUser(),a.props.history.push("/onboarding"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"signup"},r.a.createElement("h1",null,"Altima"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"firstName"}),r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"lastName"}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email"}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password"}),r.a.createElement("button",{className:"primary-btn"},"Signup"),r.a.createElement("p",null,"Already have an acount? ",r.a.createElement(ye.b,{to:"/login"},"Login"))))}}]),t}(n.Component));Ot.contextType=k;a(159);var xt=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("a",{href:"https://altima-app.herokuapp.com/auth/facebook",className:"facebook-btn"},r.a.createElement("i",{className:"fab fa-facebook"}),"Login with Facebook"))}}]),t}(r.a.Component),jt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(h.a)({},n,r))},a.handleSubmit=function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a.context.login(a.state);case 4:n=e.sent,a.context.setUser(n.currentUser),a.props.history.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0,"message");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"altima"),r.a.createElement(xt,null),r.a.createElement("div",{className:"or-line"},r.a.createElement("hr",{className:"left"})," ",r.a.createElement("span",null,"or")," ",r.a.createElement("hr",{className:"right"})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Email"),r.a.createElement("input",{onChange:this.handleChange,type:"email",name:"email"}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password"}),r.a.createElement("button",{className:"primary-btn"},"Login"),r.a.createElement("p",null,"Don't you have an acount? ",r.a.createElement(ye.b,{to:"/signup"},"Signup"))))}}]),t}(n.Component);jt.contextType=k;var kt=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.context.fetchUser(),this.context.getUnreadNotifications()}},{key:"render",value:function(){return console.log(this.context.loggedInUser,"user"),this.context.isLoadingUser?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,this.context.loggedInUser&&r.a.createElement(bt,null),r.a.createElement(m.d,null,this.context.loggedInUser?r.a.createElement(w,{exact:!0,path:"/",user:this.context.loggedInUser,component:be}):r.a.createElement(m.b,{exact:!0,path:"/",component:rt}),r.a.createElement(m.b,{path:"/login",component:jt}),"/>",r.a.createElement(m.b,{path:"/signup",component:Ot}),"/>",r.a.createElement(m.b,{path:"/onboarding",component:Ne}),"/>",r.a.createElement(m.b,{exact:!0,path:"/profile/:id",component:ke}),"/>",r.a.createElement(m.b,{path:"/create-post",component:nt}),"/>",r.a.createElement(m.b,{path:"/profile/edit/:id",component:Et}),"/>",r.a.createElement(m.b,{path:"/spots-map",component:Je}),"/>",r.a.createElement(m.b,{path:"/:id/notifications",component:ct}),"/>"))}}]),t}(r.a.Component);kt.contextType=k;var Ct=kt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wt=a(200),Nt=a(84),At=a.n(Nt);wt.a.locale(At.a),c.a.render(r.a.createElement(j,null,r.a.createElement(D,null,r.a.createElement(W,null,r.a.createElement(ye.a,null,r.a.createElement(Ct,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){},41:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBrVbNVcJAEP4mB7liB9gBHQgdSAVKBepB8abe0ItQgbECsQLTAZSwHcgVfI91MrsJP293syF+7+0jmZn9mJ18MwnBA32DNk5wBcI533Z5daxL8Vpggy/8YkYTLF37yUk6wjX/PPFqIwwFjSm9YhIklixb+OTLHuohwwqD3ezpgPQb5tjHYMHk/YI8Kc0tPDYghew1HALJWN+xMcEc/wHirMfITMbJ9p+80HzUvJbVccJFtrY/gdAZ125Y1E4/sOw03vjywrtjhVPS9xxAogQXFL3gzOXgfXPe1/VkPchL0YEPhGf48RHwdXLiUBMor2cjNfehnRMvA5v98qPASZkzCWZFuPT6QkpKsIhTBeGWtanyGxv/jipVSPBIWrmHMDKY51HVnRkrqW8aRPMIrEYPMS1PRi2GeI0UoYdYD1lJLF3FcxXNkRbPYjvd1jKsm2W901AlceOsmbTIdo9YcHzWile6a9gjlqxZs6iLg2yNyYFIXRdIWbfDQ2MCdwZ5YExJlG8COonlWDElcZQgSGzJU/4JqWRqY1CLWLCSjxbl8Cjrw1HEViV97NdbbL5PqyhiITf1HpQGzS/WcWCG10X+dpZZHIk/peGJdwcc1tsAAAAASUVORK5CYII="},55:function(e,t,a){},70:function(e,t,a){e.exports=a.p+"static/media/discobolo.4e253587.jpg"},78:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgBnZMtU8NAEIafu0RFgIgFi66klcWCLD+BH8AMMMzgGZjBgi22trG1xBZb29rYKphjL7l8XRvI8IrMZu/e3Xc/TtGAuSLigDM0Q/mNnXuDYU3IXD2SlXdVRbpmJIcTMSP2QbGVAIl6ZlERza1kgUv6QPGunvjQ5j6XdE5/TGxJIV9cSBRf3lZ8aVEDA+p67X/EIeNQzCOPlBHwUjZCFC345oFm7YqRls+xV8Oy1T1rl9lrxJp/QufS2hi6huGkxq7Opqq1MncyBpOPo4lMfJ/u0in+bA1pKDmXUrxPjIUwpguhzFGKX4m5oi+sTOEUzQmY9ybqYuVyYu+sxajSiuiyTrEb83u2WW2WwYqhJ52koP2sWgvgnsw+yRshJe3ku5GnnmS7u6/sqPaQywl4qxyGWVPinzA3DGTdTrrOfwA1X1g4JnG5gwAAAABJRU5ErkJggg=="},87:function(e,t,a){e.exports=a(171)},88:function(e,t,a){},93:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.455dcf6e.chunk.js.map