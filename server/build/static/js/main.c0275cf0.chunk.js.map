{"version":3,"sources":["contexts/AuthContext.js","components/ProtectedRoute.js","api/userAPI.js","contexts/CategoryContext.js","contexts/PostContext.js","components/Post/PostCard.js","components/Post/CreateComment.js","components/Post/DisplayPosts.js","components/Post/FeedPosts.js","components/Categories/FilterByCategories.js","pages/Home.js","components/Profile/UserProfile.js","components/Post/UserPosts.js","pages/Profile.js","components/Categories/CategoriesOnBoarding.js","pages/OnBoarding.js","components/Maps/Places.js","api/spotAPI.js","components/Maps/SpotHeader.js","components/Maps/NoPostsOnMap.js","components/Categories/CategoriesOnMap.js","components/Maps/MapContainer.js","pages/SpotsMap.js","Firebase/index.js","components/Post/ImageUpload.js","components/Categories/SelectCategoriesPost.js","components/Post/New.js","pages/CreatePost.js","pages/Landing.js","components/TimeAgo.js","pages/Notifications.js","components/Navbar.js","components/Profile/EditProfile.js","components/Signup.js","components/FacebookLogin.js","components/Login.js","App.js","serviceWorker.js","index.js","images/icon-google-maps.png","images/icon-google-maps2.png"],"names":["Context","React","createContext","service","axios","create","baseURL","process","withCredentials","AuthStore","state","loggedInUser","isLoadingUser","unreadNotifications","signup","user","a","post","data","login","logout","get","loggedin","setUser","setState","fetchUser","console","log","res","getUnreadNotifications","response","resetUnreadNotifications","this","Provider","value","props","children","Component","ProtectedRoute","component","rest","render","to","EDIT_USER","userId","mediaArray","firstName","lastName","team","country","hometown","editUser","ADD_CATEGORIES","categories","GET_NOTIFICATIONS","notifications","CategoryContext","allCategories","selectedCategoriesIds","getCategories","categoriesFromDb","onSelectCategories","e","name","target","checked","removeUserCategory","cleanSelectedCategoriesIds","myArray","includes","newArray","filter","category","onSubmitUserCategories","preventDefault","PostContext","feedPosts","feedPostsCopy","userPosts","mapsPost","mapsMarkers","mapsPostCopy","getFeedPosts","getUserPosts","getMapPosts","mapPosts","createPost","content","location","likePost","postId","commentPost","getSinglePost","filterOnBoundsSearch","areaSpot","insideSpot","forEach","spot","placeId","place_id","coordinates","lat","geometry","bounds","Ya","i","j","lng","Ua","push","filterPostsOnCategoryHome","filteredPosts","filterPostsOnCategory","context","length","filterOnSpotClick","id","filterMarkersOnMap","postsByCategory","categoriesSelected","some","element","contextType","PostCard","likePostAndUpdateIt","_id","postUpdated","className","src","description","style","maxWidth","left","onClick","likes","CreateComment","onSubmit","onInputChange","onChange","type","placeholder","DisplayPosts","posts","map","key","FeedPosts","FilterByCategories","onFilterCategoryChange","postContext","Home","UserProfile","AuthContext","UserPosts","Profile","match","params","CategoriesOnBoarding","redirect","categoryContext","OnBoarding","PlacesAutocomplete","onInputSelect","spotLocation","geocodeByAddress","then","results","getLatLng","getLocation","onSelect","onError","GoogleApiWrapper","apiKey","GET_SINGLE_SPOT","spotId","FOLLOW_SPOT","spotPlaceId","SpotHeader","isFollowingSpot","getSingleSpot","locationId","activeMarker","mySpot","checkIfAlreadyFollowing","followedBy","followSpot","prevProps","split","terms","NoPostsOnMap","textAlign","marginTop","fontSize","color","position","bottom","CategoriesOnMap","categoriesLikedByUser","findCategoriesLikedByUser","usersFollowing","MapContainer","errorMessage","areaCoordinates","getPosts","catch","error","onMarkerClick","onMapClicked","getUserLocation","window","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","err","message","onReady","onDragend","centerMoved","google","width","height","zoom","center","index","postsNumber","icon","iconActive","iconNormal","Places","renderMap","SpotsMap","firebase","initializeApp","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","ImageUpload","image","url","progress","handleUpload","files","ref","put","on","snapshot","Math","round","bytesTransferred","totalBytes","child","getDownloadURL","getMediaArray","max","alt","SelectCategoriesPost","Post","CreatePost","New","Landing","TimeAgo","date","ReactTimeAgo","Notifications","getNotifications","notification","postUrl","action","NavBar","logoutUser","activeClassName","exact","EditProfile","Signup","email","password","handleChange","handleSubmit","history","FacebookLogin","href","Login","username","currentUser","App","Navbar","path","Boolean","hostname","JavascriptTimeAgo","locale","en","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.c0275cf0.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nconst Context = React.createContext()\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n})\n\nexport class AuthStore extends React.Component {\n    state = { \n      loggedInUser: null, \n      isLoadingUser: true, \n      unreadNotifications: null\n    };\n    \n    signup = async user => {\n      const data = await service.post('/auth/signup', user)\n      return data\n    }\n\n   login = async user => {\n      const { data } = await service.post('/auth/login', user)\n      return data\n    }\n   \n   logout = async () => {\n      const { data } = await service.get('/auth/logout')\n      return data\n    }\n\n   loggedin = async () => {\n    const { data } = await service.get('/auth/loggedin')\n    return data.user\n   }\n\n    setUser = user => {\n        this.setState({\n          loggedInUser: user\n        });\n      };\n\n    fetchUser = async () => {\n      console.log('fetching user')\n        try {\n          const res = await this.loggedin();\n          this.setState({\n            loggedInUser: res,\n            isLoadingUser: false\n          });\n        } catch(err) {\n          this.setState({\n            loggedInUser: null,\n          });\n        }\n    };\n\n    getUnreadNotifications = async () => {\n      try {\n        const response = await service.get('/profile/unread-notifications')\n        this.setState({ unreadNotifications: response.data.unreadNotifications })\n      } catch(err){\n        console.log(err)\n      }\n    }\n\n    resetUnreadNotifications = async () => {\n       try {\n         await service.get(`/profile/reset-unread-notifications`)\n         this.setState({ unreadNotifications: 0 })\n       } catch(err){\n          console.log(err)\n      }\n    }    \n  \n  render(){\n    const { signup, login, logout, setUser, fetchUser, getUnreadNotifications, resetUnreadNotifications } = this\n      return(\n          <Context.Provider \n              value={{ ...this.state, \n              signup, \n              login, \n              logout, \n              setUser, \n              fetchUser, \n              getUnreadNotifications,\n              resetUnreadNotifications }}>\n              {this.props.children}\n          </Context.Provider>\n      )\n  }\n}\n\nexport default Context\n\n\n\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst ProtectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (user) {\n          return <Component {...props} user={user} {...rest} />\n        } else {\n          return <Redirect to='/login' />\n        }\n      }}\n    />\n  )\n}\n\nexport default ProtectedRoute\n","import axios from 'axios'\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n})\n\nexport const EDIT_USER = async (userId, mediaArray, firstName, lastName, team, country, hometown) => {\n  const editUser = await service.post(`/profile/edit/${userId}`, {\n    mediaArray,\n    firstName,\n    lastName,\n    team,\n    country,\n    hometown\n  })\n  return editUser.data\n}\n\nexport const ADD_CATEGORIES = async categories => {\n  await service.post('/profile/add-categories', { categories })\n}\n\nexport const GET_NOTIFICATIONS = async userId => {\n  const notifications = await service.get(`/profile/notifications/${userId}`)\n  return notifications.data\n}\n","import React from 'react'\nimport axios from 'axios'\n\nimport { ADD_CATEGORIES } from '../api/userAPI'\n\nconst Context = React.createContext()\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n})\n\nexport class CategoryContext extends React.Component {\n    state = { \n        allCategories: [],\n        selectedCategoriesIds: [],\n    };\n\n    getCategories = async () => {\n        try {\n         const categoriesFromDb = await service.get('/categories/all')\n         this.setState({ allCategories: categoriesFromDb.data })\n        } catch(err){\n            console.log(err)\n        }\n     }\n\n     onSelectCategories = e => {\n        const { name } = e.target;\n        if(e.target.checked){\n          this.setState({\n            selectedCategoriesIds: [...this.state.selectedCategoriesIds, name],\n          })\n        } else {\n          this.removeUserCategory(name)\n        }\n      }\n\n      cleanSelectedCategoriesIds = () => {\n        this.setState({ selectedCategoriesIds: [] })\n      }\n\n      removeUserCategory = (name) => {\n        let myArray = [...this.state.selectedCategoriesIds]\n          if(myArray.includes(name)){\n            const newArray = myArray.filter(category => {\n              return category !== name\n            })\n            this.setState({ selectedCategoriesIds: newArray })\n          }\n        }\n\n        onSubmitUserCategories = async e => {\n            e.preventDefault();\n              try {\n                await ADD_CATEGORIES(this.state.selectedCategoriesIds)\n            }  catch(err){\n                  console.log(err)\n             }\n          };\n\n  render(){\n      const { getCategories, onSelectCategories, removeUserCategory, onSubmitUserCategories, cleanSelectedCategoriesIds } = this\n      return(\n          <Context.Provider \n              value={{ \n                  ...this.state,\n                  getCategories,\n                  onSelectCategories,\n                  removeUserCategory,\n                  onSubmitUserCategories,\n                  cleanSelectedCategoriesIds\n                   }}>\n              {this.props.children}\n          </Context.Provider>\n      )\n  }\n}\n\nexport default Context\n\n\n\n","import React from 'react'\nimport axios from 'axios'\nimport CategoryContext from './CategoryContext'\n\nconst Context = React.createContext()\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n})\n\nexport class PostContext extends React.Component {\n    static contextType = CategoryContext\n   \n    state = {\n        feedPosts: [],\n        feedPostsCopy: [],\n        userPosts: [],\n        mapsPost: [],\n        mapsMarkers: [],\n        mapsPostCopy: [],\n      };\n\n      getFeedPosts = async () => {\n           try {\n            const feedPosts = await service.get('/post/all')\n            this.setState({ feedPosts: feedPosts.data, feedPostsCopy: feedPosts.data })\n            return feedPosts.data\n           } catch(err){\n               console.log(err)\n           }\n      }\n\n      getUserPosts = async userId => {\n        try {\n            const userPosts = await service.get(`/post/user/${userId}`)\n            this.setState({ userPosts: userPosts.data })\n        }\n        catch(err){\n            console.log(err)\n        }\n    }\n\n    getMapPosts = async () => {\n        try {\n         const mapPosts = await service.get('/post/all/spot')\n         this.setState({ \n             mapsPost: mapPosts.data,\n             mapsPostCopy: mapPosts.data,\n             mapsMarkers: mapPosts.data\n          })\n         return mapPosts.data\n        } catch(err){\n            console.log(err)\n        }\n   }\n\n    createPost = async (content, mediaArray, location, categories) => {\n        try {\n            await service.post('/post/new', {\n                content,\n                mediaArray,\n                location,\n                categories\n              })\n        } catch(err){\n            console.log(err)\n        }\n    }\n\n      likePost = async postId => {\n        try {\n            await service.post(`/post/like/${postId}`)\n        } catch(err){\n            console.log(err)\n        }\n       }\n\n       commentPost = async (postId, content) => {\n        try {\n            await service.post(`/post/${postId}/comment`, { content })\n        } catch(err){\n            console.log(err)\n      }\n    }\n  \n    getSinglePost = async postId => {\n        try {\n            const post = await service.get(`/post/${postId}`)\n            return post.data\n        } catch(err){\n            console.log(err)\n        }\n    }\n\n    filterOnBoundsSearch = areaSpot => {\n            let insideSpot = [] \n            this.state.mapsMarkers.forEach(post => {\n            if(!post.spot) {\n               return \n            } else {\n                if(post.spot.placeId == areaSpot.place_id || post.spot.location.coordinates.lat >= areaSpot.geometry.bounds.Ya.i && post.spot.location.coordinates.lat <= areaSpot.geometry.bounds.Ya.j && post.spot.location.coordinates.lng >= areaSpot.geometry.bounds.Ua.i && post.spot.location.coordinates.lng <= areaSpot.geometry.bounds.Ua.j){\n                    insideSpot.push(post)\n                }\n            }\n        })\n        console.log(insideSpot, 'inside spot')\n        this.setState({ mapsPost: insideSpot })\n     }\n\n    \n\n    //  filterPostsOnCategory = (stateArrayCopy) => {\n    //     let filteredFeedPosts = []\n    //     const categoriesSelected = this.context.selectedCategoriesIds\n    //      stateArrayCopy.forEach(post => {\n    //        const found = post.categories.some(element => categoriesSelected.includes(element))\n    //        if(found){\n    //         filteredFeedPosts = [...filteredFeedPosts, post]\n    //        }\n    //     }) \n    //     return filteredFeedPosts\n    //  }\n\n     filterPostsOnCategoryHome = () => {\n       const filteredPosts = this.filterPostsOnCategory(this.state.feedPostsCopy)\n        this.setState({ feedPosts: filteredPosts })\n        if(this.context.selectedCategoriesIds.length == 0){\n            this.setState({ feedPosts: this.state.feedPostsCopy })\n        }\n    }\n\n    filterOnSpotClick = id => {\n         const filteredPosts = this.state.mapsMarkers.filter(post => {\n          if(post.spot && post.spot.placeId == id){ \n           return post\n          }\n        })\n        this.setState({ mapsPost: filteredPosts })\n     }\n\n\n    filterMarkersOnMap = () => {\n        let postsByCategory = []\n        const categoriesSelected = this.context.selectedCategoriesIds\n        this.state.mapsPostCopy.forEach(post => {\n            const found = post.categories.some(element => categoriesSelected.includes(element))\n            if(found){\n                postsByCategory = [...postsByCategory, post]\n            }\n         }) \n         this.setState({ \n             mapsMarkers: postsByCategory,\n        })\n       \n        if(categoriesSelected.length === 0) {\n            this.setState({ mapsMarkers: this.state.mapsPostCopy})\n        }\n    }\n\n  render(){\n    const { getFeedPosts, getUserPosts, getMapPosts, createPost, likePost, commentPost, getSinglePost, filterOnBoundsSearch, filterOnSpotClick, filterMarkersOnMap, filterPostsOnCategoryHome } = this\n      return(\n          <Context.Provider \n              value={{ \n                  ...this.state, \n                  getFeedPosts, \n                  getUserPosts,\n                  getMapPosts, \n                  createPost, \n                  likePost, \n                  commentPost,\n                  getSinglePost,\n                  filterOnBoundsSearch,\n                  filterOnSpotClick,\n                  filterMarkersOnMap,\n                  filterPostsOnCategoryHome\n                }}>\n\n\n              {this.props.children}\n          </Context.Provider>\n      )\n  }\n}\n\nexport default Context\n\n\n\n","import '../scss/PostCard.scss'\nimport React from 'react'\n\nimport PostContext  from '../../contexts/PostContext'\n\nclass PostCard extends React.Component {\n  static contextType = PostContext\n  \n  state = { post: this.props.post }\n\n  likePostAndUpdateIt = async postId => {\n    postId = this.state.post._id\n    try {\n      await this.props.likePost(postId)\n      const postUpdated = await this.context.getSinglePost(postId)\n      this.setState({ post: postUpdated })\n    } catch(err){\n      console.log(err, 'err')\n    }\n  }\n\n  render () {\n    return (\n      <div className='post-card-container'>\n        <div className='post-card-header'>\n          <div>\n            <img className='ui avatar image circular' src='https://picsum.photos/250' />\n          </div>\n          <div className='post-card-header-content'>\n            <p><strong>{this.state.post.user.firstName}</strong></p>\n            <span>{(this.state.post.spot && this.state.post.spot.location) && this.state.post.spot.location.description}</span>\n\n          </div>\n        </div>\n\n        <div>\n          <img src='https://picsum.photos/400' style={{ maxWidth: '100vw', left: '0px' }} />\n        </div>\n\n        <div className='post-card-icons'>\n          <div onClick={this.likePostAndUpdateIt}>\n            <i className='heart icon outline' />\n          </div>\n          \n          <div>\n            <i className='comment outline icon' />\n          </div>\n        </div>\n\n        <div className='post-card-bottom'>\n          <div>\n            <p><strong>{this.state.post.likes.length} likes</strong></p>\n            <p><strong>{this.state.post.user.firstName}</strong><span> {this.state.post.content}</span></p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default PostCard\n","import React from 'react'\n\n\nclass CreateComment extends React.Component {\n \n  state = { \n      content: '',\n    }\n  \n  onSubmit = async e => {\n    e.preventDefault();\n    this.props.commentPost(this.props.postId, this.state.content)\n  };\n    \n    onInputChange = e => {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value,\n        });\n    }\n\n  render () {\n    return (\n      <div>\n        <form onSubmit={this.onSubmit}>\n            <input onChange={this.onInputChange} type=\"text\" placeholder=\"content\" name=\"content\"/>\n            <button>Create comment</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default CreateComment\n\n","import React from 'react'\nimport PostCard from './PostCard'\nimport CreateComment from './CreateComment'\n\nconst DisplayPosts = ({ posts, likePost, commentPost }) => {\n  return <div>\n    {posts && posts.map(post => {\n      return (\n        <div key={post._id}>\n          <PostCard post={post} likePost={likePost} />\n          <CreateComment postId={post._id} commentPost={commentPost} />\n        </div>\n      )\n    })}\n  </div>\n}\n\nexport default DisplayPosts\n","import React from 'react'\nimport PostContext  from '../../contexts/PostContext'\n\nimport DisplayPosts from './DisplayPosts'\n\nclass FeedPosts extends React.Component {\n  static contextType = PostContext\n    componentDidMount(){\n      this.context.getFeedPosts()\n   }\n  render () {\n    return (\n        <DisplayPosts \n           posts={this.context.feedPosts} \n           likePost={this.context.likePost}\n           commentPost={this.context.commentPost}\n        />\n    )\n  }\n}\n\nexport default FeedPosts\n\n","import React from 'react'\nimport CategoryContext from '../../contexts/CategoryContext'\n\nclass FilterByCategories extends React.Component {\n   static contextType = CategoryContext\n\n  componentDidMount () {\n    this.context.cleanSelectedCategoriesIds()\n    this.context.getCategories()\n  }\n\n  onFilterCategoryChange = async e => {\n    await this.context.onSelectCategories(e)\n    this.props.postContext.filterPostsOnCategoryHome()\n  }\n\n  render () {\n    return (\n      <div>\n        {this.context.allCategories.map(category => {\n          return (\n            <div key={category._id}>\n              <span>{category.name}</span>\n              <input onChange={this.onFilterCategoryChange} type='checkbox' name={category._id} />\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default FilterByCategories\n","import React from 'react'\nimport PostContext from '../contexts/PostContext'\n\nimport FeedPosts from '../components/Post/FeedPosts'\nimport FilterByCategories from '../components/Categories/FilterByCategories'\n\nclass Home extends React.Component {\n  static contextType = PostContext\n  render () {\n    return (\n      <div>\n        <h1>Home</h1>\n        <FilterByCategories postContext={this.context} />\n        <FeedPosts />\n      </div>\n    )\n  }\n}\n\nexport default Home\n","import React from 'react'\nimport {Link} from 'react-router-dom';\nimport AuthContext  from '../../contexts/AuthContext'\n\nclass UserProfile extends React.Component {\n  static contextType = AuthContext\n  \n\n  state = { \n      content: '',\n      mediaArray: []\n    }\n  \n\n  render () {\n    return (\n      <div className='profile-body'>\n        <Link to={`/profile/edit/${this.context.loggedInUser && this.context.loggedInUser._id}`} className=\"item\">\n            <i className=\"user icon\"></i>\n          </Link>\n  <h4 className='header'>Federico Barriola</h4>\n        <div className='content right floated profile-basics'>\n        <div className='ui horizontal list'>\n          <div className='item'>\n            <div className='content'>\n              <div className='header'>Posts</div>\n              <p>50</p>\n            </div>\n          </div>\n          <div className='item'>\n            <div className='content'>\n              <div className='header'>Followers</div>\n              <p>440</p>\n            </div>\n          </div>\n          <div className='item'>\n            <div className='content'>\n              <div className='header'>Following</div>\n              <p>500</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <button className='ui primary fluid button'>Follow</button>\n      <div className='block'>\n        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n             Lorem Ipsum has been the industry's.\n        </p>\n      </div>\n      <div className='ui two item profile-menu'>\n        <a className='item active'>Posts</a>\n        <a className='item'>liked</a>\n      </div>\n      {/* <UserPosts userId={userId} /> */}\n    </div>\n    )\n  }\n}\n\nexport default UserProfile\n","import React from 'react'\nimport PostContext  from '../../contexts/PostContext'\n\nimport PostCard from './PostCard'\nimport DisplayPosts from './DisplayPosts'\n\n\nclass UserPosts extends React.Component {\n  static contextType = PostContext\n  \n    componentDidMount() {\n      const { userId } = this.props\n      this.context.getUserPosts(userId)\n    }\n\n  render () {\n    return (\n      <div>\n         <DisplayPosts \n             posts={this.context.userPosts} \n             likePost={this.context.likePost}\n             commentPost={this.context.commentPost}\n          />\n      </div> \n    )\n  }\n}\n\nexport default UserPosts\n","import '../components/scss/profile.scss'\nimport React from 'react'\nimport UserProfile from '../components/Profile/UserProfile'\nimport UserPosts from '../components/Post/UserPosts'\n\nclass Profile extends React.Component {\n  render () {\n    const userId = this.props.match.params.id\n    return (\n      <div>\n        <UserProfile />\n        <UserPosts userId={userId} />\n      </div>\n    )\n  }\n}\n\nexport default Profile\n","import '../scss/onboarding.scss'\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\n\nclass CategoriesOnBoarding extends React.Component {\n  state = { redirect: false }\n\n  componentDidMount () {\n    this.props.categoryContext.cleanSelectedCategoriesIds()\n    this.props.categoryContext.getCategories()\n  }\n\n onSubmitUserCategories = (e) => {\n  this.props.categoryContext.onSubmitUserCategories(e)\n  this.setState({ redirect: true })\n }\n\n  render () {\n    if (this.state.redirect) {\n      return <Redirect to='/'/>;\n    }\n    return (\n      <div className='category ui secondary fluid three item'>\n        <div className='onboarding'>\n          {this.props.categoryContext.allCategories.map(category => {\n            return (\n                <div key={category._id} className='item'>\n                  <label className='container'>\n                  <input onChange={this.props.categoryContext.onSelectCategories} type='checkbox' name={category._id} />\n                  <span className={`checkmark  ${category.name}`}></span>\n                  <label className=\"cat-name\">{category.name}</label>\n                  </label>\n                </div>\n            )\n          })}\n        </div>\n        <form onSubmit={this.onSubmitUserCategories}>\n        {this.props.categoryContext.selectedCategoriesIds.length >= 1 && <button>Next</button>}\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default CategoriesOnBoarding\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport CategoryContext from '../contexts/CategoryContext'\n\nimport CategoriesOnBoarding from '../components/Categories/CategoriesOnBoarding'\n\nclass OnBoarding extends React.Component {\n  static contextType = CategoryContext\n  render () {\n    return (\n      <div>\n        <h1 className=\"onb-title\">Choose the sports you enjoy</h1>\n        <CategoriesOnBoarding categoryContext={this.context} />\n      </div>\n    )\n  }\n}\n\nexport default OnBoarding\n","import React from 'react';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport {geocodeByAddress, getLatLng} from 'react-google-places-autocomplete';\nimport {GoogleApiWrapper} from 'google-maps-react';\n// If you want to use the provided css\nimport 'react-google-places-autocomplete/dist/index.min.css';\n \nclass PlacesAutocomplete extends React.Component {\n\n    onInputSelect = spotLocation => {\n        geocodeByAddress(spotLocation.description)\n        .then(results => getLatLng(results[0]))\n        .then(({ lat, lng }) => {\n          spotLocation.coordinates = { lat, lng } \n          this.props.getLocation(spotLocation)\n        })\n    }\n\n    \n// Log error status and clear dropdown when Google Maps API returns an error.\n   \n  render(){\n      return(\n        <div>\n        <GooglePlacesAutocomplete\n          onSelect={this.onInputSelect}\n          placeholder='Search cities, places and more...'\n          onError={this.onError}\n        />\n      </div>\n      )\n  }\n}\n \nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAPS_API\n})(PlacesAutocomplete)\n","import axios from 'axios'\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n})\n\nexport const GET_ALL_SPOTS = async () => {\n  const spots = await service.get('/spot/all')\n  console.log(spots.data, 'spots.data')\n  return spots.data\n}\n\nexport const GET_SINGLE_SPOT = async (spotId) => {\n  const spot = await service.get(`/spot/${spotId}`)\n  return spot.data\n}\n\nexport const FOLLOW_SPOT = async (spotPlaceId, location) => {\n  await service.post('/spot/follow', {\n    spotPlaceId,\n    location\n  })\n}\n\n// export const CREATE_SPOT = async (spotPlaceId, location) => {\n//   await service.post('/spot/create', {\n//     spotPlaceId,\n//     location\n//   })\n// }\n","import '../../components/scss/SpotHeader.scss'\nimport React from 'react'\nimport { FOLLOW_SPOT, GET_SINGLE_SPOT } from '../../api/spotAPI'\nimport iconActive from '../../images/icon-google-maps.png'\nimport AuthContext from '../../contexts/AuthContext'\n\nclass SpotHeader extends React.Component {\n  static contextType = AuthContext\n\n  state = { spot: null, isFollowingSpot: null }\n  \n    async componentDidMount(){\n      await this.getSingleSpot()\n    }\n\n    async componentDidUpdate(prevProps) {\n      if (prevProps.activeMarker.place_id  !== this.props.activeMarker.place_id) {\n        await this.getSingleSpot()\n      }\n    }\n     \n    getSingleSpot = async () => {\n      const locationId = this.props.activeMarker.place_id\n         try {\n          const mySpot = await GET_SINGLE_SPOT(locationId)\n          this.setState({ spot: mySpot[0] })\n          this.checkIfAlreadyFollowing()\n         } catch(err) {\n          console.log(err)\n         }\n    }\n  \n    checkIfAlreadyFollowing = () => {\n      const spot = this.state.spot\n        if(spot && spot.followedBy.includes(this.context.loggedInUser._id)){\n          console.log('following')\n          this.setState({ isFollowingSpot: true })\n        } \n      else {\n        console.log('not following')\n        this.setState({ isFollowingSpot: false })\n      }\n    }\n\n    followSpot = async (e, spotPlaceId, location) => {\n      spotPlaceId = this.props.activeMarker.place_id\n      location = this.props.activeMarker\n        e.preventDefault()\n        try {\n          await FOLLOW_SPOT(spotPlaceId, location)\n          await this.getSingleSpot()\n        } catch (err) {\n          console.log(err, \"message\");\n        }\n      };\n\n  render () {\n    const description = this.props.activeMarker.description ? this.props.activeMarker.description.split(',')[0] : this.props.activeMarker.location.terms[0].value\n    return (\n       <div className='spot-header-section'>\n        <div className='divider' />\n        <div className='spot-header-container'>\n            <h1>{description}</h1>\n          <form onSubmit={this.followSpot}>\n              {this.state.isFollowingSpot === true  ?  <button className=\"unfollow-btn\">Unfollow</button> :  <button className=\"follow-btn\">Follow</button>}\n          </form> \n        </div>\n            <div className=\"spot-info\">\n              <span>{this.state.spot && this.state.spot.followedBy.length || 0 } Followers</span>\n               <span className=\"dot\"></span>\n               <span>{this.state.spot && this.state.spot.posts.length} Posts</span>\n            </div> \n      </div>\n    )\n  }\n}\n\nexport default SpotHeader\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nconst NoPostsOnMap = ({ activeMarker }) => {\n  const description = activeMarker.description ? activeMarker.description.split(',')[0] : activeMarker.location.terms[0].value\n\n  return (\n    <div style={{ textAlign: 'center', marginTop: '80px' }}>\n      <p style={{ fontSize: '18px', color: '#737373' }}>\n          There are no posts here just yet\n      </p><br />\n      <p style={{ fontSize: '18px', color: '#737373', position: 'relative', bottom: '30px' }}>\n          Be the first to tell the world about {description}\n      </p>\n      <Link to='/create-post'>\n         Create a post\n      </Link>\n    </div>\n  )\n}\n\nexport default NoPostsOnMap\n","import '../scss/CategoriesOnMap.scss'\nimport React from 'react'\nimport AuthContext from '../../contexts/AuthContext'\n\nclass CategoriesOnMap extends React.Component {\n    static contextType = AuthContext\n\n    state = { categoriesLikedByUser: [] }\n\n    async componentDidMount () {\n      this.props.categoryContext.cleanSelectedCategoriesIds()\n      await this.props.categoryContext.getCategories()\n      this.findCategoriesLikedByUser()\n    }\n\n    onFilterCategoryChange = async e => {\n      const categoryId = e.target.name\n      await this.props.categoryContext.onSelectCategories(e)\n      this.props.postContext.filterMarkersOnMap()\n     \n      if(this.props.activeMarker){\n        this.props.getLocation(this.props.activeMarker)\n      }\n    }\n\n    \n  findCategoriesLikedByUser = () => {\n    let categoriesLikedByUser = []\n    this.props.categoryContext.allCategories.forEach(category => {\n         if(category.usersFollowing.includes(this.context.loggedInUser._id)){\n          categoriesLikedByUser = [...categoriesLikedByUser, category]\n         }\n    })\n    this.setState({ categoriesLikedByUser })\n  }\n\n  render () {\n    console.log(this.props.categoryContext.allCategories, 'this.props.categoryContext.allCategories')\n    return (\n      <div className='categories-on-map'>\n        <div className=\"wrapper-categories\">\n      {this.state.categoriesLikedByUser.map((category, i) => {\n            return (\n              <div key={i} className='item'>\n                <label className='container '>\n                  <input onChange={this.onFilterCategoryChange} type='checkbox' name={category._id} />\n                  <span className=\"checkmark\">{category.name}</span>\n                 </label>\n              </div>\n            )\n          })}\n          </div>\n          <div className=\"all-categories\">\n           <span>.</span>\n           <span>.</span>\n           <span>.</span>\n          </div>\n      </div>\n    )\n  }\n}\n\nexport default CategoriesOnMap\n","import '../../components/scss/Map.scss'\nimport React from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport { geocodeByAddress } from 'react-google-places-autocomplete';\n\nimport PostContext  from '../../contexts/PostContext'\nimport Places from '../Maps/Places'\nimport SpotHeader from './SpotHeader'\nimport NoPostsOnMap from './NoPostsOnMap'\nimport DisplayPosts from '../../components/Post/DisplayPosts'\nimport CategoriesOnMap from '../../components/Categories/CategoriesOnMap'\nimport iconActive from '../../images/icon-google-maps.png'\nimport iconNormal from '../../images/icon-google-maps2.png'\n//import iconUser from '../../images/icon-user-location.png'\n\nclass MapContainer extends React.Component {\n  static contextType = PostContext\n\n  state = { \n     lat: null,\n     lng: null,\n     activeMarker: null,\n     errorMessage: '',\n     areaCoordinates: null\n     }\n \n     componentDidMount(){\n      this.getUserLocation()\n     // this.props.categoryContext.cleanSelectedCategoriesIds()\n     // this.props.categoryContext.getCategories()\n     }\n    \n    getPosts = async () => {\n       try {\n         await this.context.getMapPosts()\n       } catch(err) {\n         console.log(err)\n       }\n    }\n\n    getLocation = spotLocation => {\n     const description = spotLocation.description ? spotLocation.description : spotLocation.location.description\n     const { lat, lng } = spotLocation.coordinates || spotLocation.location.coordinates\n      geocodeByAddress(description)\n       .then(results => {\n         this.setState({ \n           areaCoordinates: results[0]\n          })   \n          if (this.state.areaCoordinates.geometry.bounds){\n            this.context.filterOnBoundsSearch(this.state.areaCoordinates)\n          } else{\n           this.context.filterOnSpotClick(spotLocation.place_id)\n          }\n           this.setState({ \n            activeMarker: spotLocation,\n            lat,\n            lng\n           }) \n\n          //  if(this.state.activeMarker){\n          //    this.context.filterMarkersOnCategories(this.state.activeMarker.place_id)\n          // }\n       })\n       .catch(error => console.error(error));\n     }\n    \n      onMarkerClick = props => {\n        this.getLocation(props.location)\n      }\n\n      onMapClicked = (props) => {\n          this.setState({\n            activeMarker: null\n          })\n      };\n      \n      getUserLocation = () => {\n        window.navigator.geolocation.getCurrentPosition(\n          (position) => {\n            this.setState({ \n              lat: position.coords.latitude,\n              lng: position.coords.longitude \n           })\n          },\n           err => {\n             this.setState({ errorMessage: err.message })\n           }\n         )\n      }\n    \n  renderMap(){\n    const style = {\n      width: '100%',\n      height: '100%'\n    }    \n   \n    if(this.state.errorMessage){\n      return <div>Error message: {this.state.errorMessage}</div>\n    } \n\n    if(!this.state.errorMessage && this.state.lat && this.state.lng) {\n        return <Map \n        onClick={this.onMapClicked}\n        onReady={this.getPosts}\n        onDragend={this.centerMoved}\n        google={this.props.google} \n        style={style}\n        zoom={6}\n        center={{\n            lat: this.state.lat,\n            lng: this.state.lng\n          }}>\n          {this.context.mapsMarkers && this.context.mapsMarkers.map((post, index) => {\n            if(post.spot){\n              return  <Marker \n              onClick={this.onMarkerClick} \n              place_id={post.spot.location.place_id} \n              location={post.spot.location}\n              postsNumber={post.spot.posts.length}\n              key={index}  \n              icon={\n                this.state.activeMarker && this.state.activeMarker.place_id == post.spot.location.place_id ? iconActive : iconNormal\n                  }\n              position={{ lat: post.spot.location.coordinates.lat, lng: post.spot.location.coordinates.lng }} /> \n            }})}\n            {/* <Marker   \n              icon={iconUser}\n              position={{ lat: this.state.lat, lng: this.state.lng  }} />  */}\n        </Map>\n    } \n    return <p>Loading..</p>\n  }\n\n  render(){\n    return (\n      <div className=\"map-wrapper\">\n          <div className=\"places-container\">\n            <Places getLocation={this.getLocation} />\n          </div>\n            <CategoriesOnMap \n            getLocation={this.getLocation}\n            categoryContext={this.props.categoryContext}\n            postContext={this.context}\n            activeMarker={this.state.activeMarker}\n             />\n          <div id=\"map\">\n            { this.renderMap() }\n          </div>\n          <div className=\"map-feed\" >\n            {this.state.activeMarker &&  \n                 <SpotHeader \n                 activeMarker={this.state.activeMarker}\n                 mapsPost={this.context.mapsPost}\n                 />\n            }\n            {(this.state.activeMarker && this.context.mapsPost.length >= 1) &&\n                 <DisplayPosts \n                  posts={this.context.mapsPost} \n                  likePost={this.context.likePost}\n                  commentPost={this.context.commentPost}\n                  />  \n            }\n            {(this.state.activeMarker && this.context.mapsPost.length === 0) &&\n                <NoPostsOnMap activeMarker={this.state.activeMarker}/>\n            }\n         </div>\n        </div>\n      );\n  }\n}\n \nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAPS_API\n})(MapContainer)\n\n\n","import React from 'react'\nimport MapContainer from '../components/Maps/MapContainer'\n\nimport CategoryContext from '../contexts/CategoryContext'\n\n\nclass SpotsMap extends React.Component {\n  static contextType = CategoryContext\n  \n  render () {\n    return (\n      <div>\n        <MapContainer categoryContext={this.context} />\n      </div>\n    )\n  }\n}\n\nexport default SpotsMap\n","import firebase from 'firebase/app'\nimport 'firebase/storage'\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_GOOGLE_API,\n  authDomain: 'hurricane-f3d3.firebaseapp.com',\n  databaseURL: 'https://hurricane-f3d3.firebaseio.com',\n  projectId: 'hurricane-f3d3',\n  storageBucket: 'hurricane-f3d3.appspot.com',\n  messagingSenderId: '6599025301',\n  appId: '1:6599025301:web:9b4a2bb243699265b9319c',\n  measurementId: 'G-7QPDNKG1YM'\n}\n\n// Initialize Firebase\n\nfirebase.initializeApp(firebaseConfig)\n\nconst storage = firebase.storage()\n\nexport { firebase, storage as default }\n","import React, { Component } from \"react\";\nimport storage from \"../../Firebase/index\";\n\nclass ImageUpload extends Component {\n    \n state = {\n      image: null,\n      url: \"\",\n      progress: 0,\n      mediaArray: []\n    };\n\n  handleUpload = e => {\n    if (e.target.files[0]) {\n      const image = e.target.files[0];\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {\n          // progress function ...\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          this.setState({ progress });\n        },\n        error => {\n          // Error function ...\n          console.log(error);\n        },\n        () => {\n          // complete function ...\n          storage\n            .ref(\"images\")\n            .child(image.name)\n            .getDownloadURL()\n            .then(url => {\n              this.props.getMediaArray(url)\n              this.setState({ \n                url,\n                mediaArray: [...this.state.mediaArray, url]\n              });\n              \n            });\n        }\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <progress value={this.state.progress} max=\"100\" className=\"progress\" />\n        </div>\n          <div>\n            <input type=\"file\" onChange={this.handleUpload} />\n          </div>\n          <img\n          src={this.state.url}\n          alt=\"Uploaded Images\"\n          height=\"300\"\n          width=\"400\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default ImageUpload;","import React from 'react'\nimport CategoryContext from '../../contexts/CategoryContext'\n\n\nclass SelectCategoriesPost extends React.Component {\n  static contextType = CategoryContext\n\n  componentDidMount(){\n    this.context.getCategories()\n  }\n  render () {\n    return (\n      <div>\n      {this.context.allCategories.map(category => {\n                 return (\n            <div key={category._id}>\n                   <span>{category.name}</span>\n                   <input onChange={this.context.onSelectCategories} type=\"checkbox\" name={category._id}/>\n            </div>\n            )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default SelectCategoriesPost\n","import React from 'react'\nimport  { Redirect } from 'react-router-dom'\nimport ImageUpload from './ImageUpload'\nimport Places from '../Maps/Places'\n\nimport CategoryContext  from '../../contexts/CategoryContext'\n\nimport SelectCategoriesPost from '../../components/Categories/SelectCategoriesPost'\n\n\nclass Post extends React.Component {\n   static contextType = CategoryContext\n\n  state = { \n      content: '',\n      mediaArray: [],\n      location: null,\n      redirect: false\n    }\n\n    async componentDidMount(){\n      console.log( this.context.selectedCategoriesIds,  \"before mounted\")\n      await this.context.cleanSelectedCategoriesIds()\n      console.log( this.context.selectedCategoriesIds,  \"after mounted\")\n    }\n  \n  onSubmit = async e => {\n    e.preventDefault();\n    console.log( this.context.selectedCategoriesIds,  \"on submit\")\n      try {\n        await this.props.postContext.createPost(\n          this.state.content,\n          this.state.mediaArray,\n          this.state.location,\n          this.context.selectedCategoriesIds\n        )\n\n      this.setState({ redirect: true })\n      // this.props.history.push('/')\n \n    }  catch(err){\n          console.log(err)\n     }\n  };\n    \n    onInputChange = e => {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value,\n        });\n    }\n\n\n    getMediaArray = url => {\n      this.setState({ mediaArray: [...this.state.mediaArray, url]})\n    }\n\n    getLocation = spotLocation => {\n      this.setState({location: spotLocation})\n    }\n\n  render () {\n    if(this.state.redirect){\n      return <Redirect to=\"/\" />\n    }\n    return (\n      <div>\n        <form onSubmit={this.onSubmit}>\n            <input onChange={this.onInputChange} type=\"text\" placeholder=\"content\" name=\"content\"/>\n            <Places getLocation={this.getLocation} />\n              <SelectCategoriesPost/>\n            <button>Create post</button>\n        </form>\n        <ImageUpload getMediaArray={this.getMediaArray}/>\n      </div>\n    )\n  }\n}\n\nexport default Post\n\n","import React from 'react'\nimport PostContext from '../contexts/PostContext'\n\nimport New from '../components/Post/New'\n\nclass CreatePost extends React.Component {\n static contextType = PostContext\n\n  render () {\n    return (\n      <div>\n        <h1>new post page</h1>\n        <New postContext={this.context} />\n      </div>\n    )\n  }\n}\n\nexport default CreatePost\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Landing = () => {\n  return (\n    <div>\n      <h1>Landing</h1>\n      <Link to='/login'>Login</Link>\n      <Link to='/signup'>Signup</Link>\n    </div>\n  )\n}\n\nexport default Landing\n","import React from 'react'\nimport ReactTimeAgo from 'react-time-ago'\n\nexport default function TimeAgo ({ date }) {\n  return (\n    <div>\n      <ReactTimeAgo date={date} className='time-ago' />\n    </div>\n  )\n}\n","import '../components/scss/Notifications.scss'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport AuthContext from '../contexts/AuthContext'\nimport { GET_NOTIFICATIONS } from '../api/userAPI'\nimport TimeAgo from '../components/TimeAgo'\n\nclass Notifications extends React.Component {\n  static contextType = AuthContext\n\n  state = { notifications: [] }\n\n  async componentDidMount(){\n    this.getNotifications()\n  }\n\n  componentWillUnmount() {\n    this.context.resetUnreadNotifications(this.context.loggedInUser._id)\n  }\n\n  getNotifications = async userId => {\n    userId = this.context.loggedInUser._id\n    try {\n      const notifications = await GET_NOTIFICATIONS(userId)\n      this.setState({ notifications })\n    } catch(err){\n      console.log(err)\n    }\n  }\n\n  render () {\n    return (\n      <div className=\"notifications-section\">\n        <h1>Notifications</h1>\n        {this.state.notifications.map((notification, i) => {\n          return <div key={i}>\n            <div className=\"container\">\n              <div>\n                <div className=\"text\">\n                   <span className=\"orange-dot\"></span>\n                   <Link to={notification.postUrl}>\n                     <p><strong>{notification.name}</strong> {notification.action}  </p>\n                   </Link>\n                 </div>\n                 <TimeAgo date={notification.date} />\n              </div>\n              <p>image</p>\n            </div>\n          </div>\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Notifications\n","import './scss/navbar.scss'\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport AuthContext  from '../contexts/AuthContext'\nimport HomeIcon from '@material-ui/icons/Home';\nimport MapIcon from '@material-ui/icons/Map';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport PersonIcon from '@material-ui/icons/Person';\n\nclass NavBar extends React.Component {\n  static contextType = AuthContext\n\n  logoutUser = () =>{\n    this.context.logout()\n    .then(() => {\n      this.context.setUser(null);  \n    })\n  }\n  \n\n  render() {\n    return (\n      <nav className='absolute-bot'>\n        <div className=\"ui secondary fluid five item menu\">\n          <NavLink to=\"/\" className=\"item\" activeClassName=\"active\" exact>\n            <HomeIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink to=\"/spots-map\" className=\"item\" activeClassName=\"active\">\n            <MapIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink to=\"/create-post\" className=\"item\" activeClassName=\"active\">\n            <AddCircleOutlineIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink to={`/${this.context.loggedInUser._id}/notifications`} className=\"item\" activeClassName=\"active\" exact>\n            <NotificationsIcon className=\"icon-navbar\" />\n            {this.context.unreadNotifications >= 1 && \n              <div className=\"notification-number-1\"><span>{this.context.unreadNotifications}</span></div>\n            }\n            {this.context.unreadNotifications >= 10 && \n              <div className=\"notification-number-2\"><span>10+</span></div>\n            }\n          </NavLink>\n          <NavLink to={`/profile/${this.context.loggedInUser._id}`} className=\"item\" activeClassName=\"active\">\n            <PersonIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink onClick={this.logoutUser} to=\"/\">Logout</NavLink>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default NavBar;\n\n\n\n\n","import React from 'react'\nimport AuthContext  from '../../contexts/AuthContext'\nimport { EDIT_USER } from '../../api/userAPI'\nimport ImageUpload from '../Post/ImageUpload'\n\nclass EditProfile extends React.Component {\n  static contextType = AuthContext\n\n  state = { \n    mediaArray: [],\n    firstName: \"\",\n    lastName: \"\",\n    team: \"\",\n    hometown: \"\",\n    country: \"\",\n    }\n  \n  onSubmit = async e => {\n    e.preventDefault();\n      try {\n      await EDIT_USER(\n        this.context.loggedInUser._id,\n        this.state.mediaArray,\n        this.state.firstName,\n        this.state.lastName,\n        this.state.team,\n        this.state.hometown,\n        this.state.country\n      )\n      this.context.fetchUser()\n    }  catch(err){\n          console.log(err)\n     }\n  };\n    \n    onInputChange = e => {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value,\n        });\n    }\n\n\n    getMediaArray = url => {\n      this.setState({ mediaArray: [...this.state.mediaArray, url]})\n    }\n\n  render () {\n    return (\n      <div>\n        <form onSubmit={this.onSubmit}>\n            <ImageUpload getMediaArray={this.getMediaArray}/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.firstName} type=\"text\" name=\"firstName\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.lastName} type=\"text\" name=\"lastName\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.team} type=\"text\" name=\"team\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.hometown} type=\"text\" name=\"hometown\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.country} type=\"text\" name=\"country\"/>\n            <button>Update User</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default EditProfile\n","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom'\nimport AuthContext  from '../contexts/AuthContext'\nimport '../components/scss/signup.scss'\nimport '../components/scss/buttons.scss'\n\n\nexport default class Signup extends Component {\n  static contextType = AuthContext\n\n  state = {\n    firstName: '',\n    lastName:'',\n    email: '',\n    password: '',\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    try{\n    await this.context.signup(this.state) \n    this.context.setUser(this.state)\n    this.context.fetchUser()\n    this.props.history.push('/onboarding')\n    }\n    catch(err){\n      console.log(err)\n    }\n  };\n  \n  render() {\n\n    return (\n      <div className='signup'>\n          <h1>Altima</h1>\n        <form onSubmit={this.handleSubmit}>\n          <label>First Name</label>\n          <input onChange={this.handleChange} type=\"text\" name=\"firstName\" />\n          <label>Last Name</label>\n          <input onChange={this.handleChange} type=\"text\" name=\"lastName\" />\n          <label>Email</label>\n          <input onChange={this.handleChange} type=\"email\" name=\"email\" />\n          <label>Password</label>\n          <input onChange={this.handleChange} type=\"password\"  name=\"password\" />\n          <button className='primary-btn'>Signup</button>          \n          <p>Already have an acount? <Link to=\"/login\">Login</Link></p>\n        </form>\n      </div>\n    );\n  }\n}\n","import '../components/scss/buttons.scss'\nimport React from 'react'\n\nclass FacebookLogin extends React.Component {\n  render () {\n    return (\n      <div>\n        <a href='https://altima-app.herokuapp.com/auth/facebook' className='facebook-btn'><i className='fab fa-facebook' />Login with Facebook</a>\n      </div>\n    )\n  }\n}\n\nexport default FacebookLogin\n","import '../components/scss/login.scss'\nimport '../components/scss/buttons.scss'\nimport { Link } from 'react-router-dom'\nimport React, {Component} from 'react';\nimport AuthContext  from '../contexts/AuthContext'\nimport FacebookLogin from './FacebookLogin'\n\n\nexport default class Login extends Component {\n  static contextType = AuthContext\n\n  state = {\n    username: '',\n    password: '',\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const loggedInUser = await this.context.login(this.state);\n      this.context.setUser(loggedInUser.currentUser);\n      this.props.history.push('/');\n    } catch (err) {\n      console.log(err, \"message\");\n    }\n  };\n\n\n  render() {\n    return (\n      <div className='login'>\n        <h1 >altima</h1>\n        <FacebookLogin/>\n        <div className='or-line'>\n          <hr className='left'></hr> <span>or</span> <hr className='right'></hr>\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <label>Email</label>\n          <input\n            onChange={this.handleChange}\n            type=\"email\"\n            name=\"email\"\n          />\n          <label>Password</label>\n          <input\n            onChange={this.handleChange}\n            type=\"password\"\n            name=\"password\"\n          />\n          <button className='primary-btn'>Login</button>\n          <p>Don't you have an acount? <Link to=\"/signup\">Signup</Link></p>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch, Link, Redirect } from 'react-router-dom';\nimport AuthContext  from './contexts/AuthContext'\nimport ProtectedRoute from './components/ProtectedRoute'\n\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport OnBoarding from './pages/OnBoarding';\nimport SpotsMap from './pages/SpotsMap';\nimport CreatePost from './pages/CreatePost';\nimport Landing from './pages/Landing';\nimport Notifications from './pages/Notifications';\n\nimport Navbar from './components/Navbar'; \nimport EditProfile from './components/Profile/EditProfile';\nimport Signup from './components/Signup';\nimport Login from './components/Login';\n\nclass App extends React.Component {\n  static contextType = AuthContext\n\n  componentDidMount() {\n    this.context.fetchUser(); \n    this.context.getUnreadNotifications()\n  }\n  \n  render() {\n    console.log(this.context.loggedInUser, 'user')\n    if (this.context.isLoadingUser)\n      return <p>Loading...</p>\n    return (\n      <div>\n      {this.context.loggedInUser && <Navbar /> }    \n      \n        <Switch>      \n          { this.context.loggedInUser ?\n          <ProtectedRoute\n              exact path=\"/\"\n              user={this.context.loggedInUser}\n              component={Home}\n            /> : \n            <Route exact path=\"/\" component={Landing}/>\n          }\n\n            <Route\n              path=\"/login\"\n              component={Login} />\n            />  \n  \n            <Route\n              path=\"/signup\"\n              component={Signup} />\n            /> \n  \n            <Route\n              path=\"/onboarding\"\n              component={OnBoarding} />\n            /> \n  \n            <Route\n              exact path=\"/profile/:id\"\n              component={Profile} />\n            />\n        \n            <Route\n              path=\"/create-post\"\n              component={CreatePost} />\n            />   \n  \n            <Route\n              path=\"/profile/edit/:id\"\n              component={EditProfile} />\n            /> \n          \n            <Route\n              path=\"/spots-map\"\n              component={SpotsMap} />\n            /> \n\n            <Route\n              path={`/:id/notifications`}\n              component={Notifications} />\n            /> \n\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './App.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { BrowserRouter } from 'react-router-dom'\nimport { AuthStore } from './contexts/AuthContext'\nimport { PostContext } from './contexts/PostContext'\nimport { CategoryContext } from './contexts/CategoryContext'\n// Time ago\nimport JavascriptTimeAgo from 'javascript-time-ago'\nimport en from 'javascript-time-ago/locale/en'\nJavascriptTimeAgo.locale(en)\n\nReactDOM.render(<AuthStore><CategoryContext><PostContext><BrowserRouter><App /></BrowserRouter></PostContext></CategoryContext></AuthStore>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBrVbNVcJAEP4mB7liB9gBHQgdSAVKBepB8abe0ItQgbECsQLTAZSwHcgVfI91MrsJP293syF+7+0jmZn9mJ18MwnBA32DNk5wBcI533Z5daxL8Vpggy/8YkYTLF37yUk6wjX/PPFqIwwFjSm9YhIklixb+OTLHuohwwqD3ezpgPQb5tjHYMHk/YI8Kc0tPDYghew1HALJWN+xMcEc/wHirMfITMbJ9p+80HzUvJbVccJFtrY/gdAZ125Y1E4/sOw03vjywrtjhVPS9xxAogQXFL3gzOXgfXPe1/VkPchL0YEPhGf48RHwdXLiUBMor2cjNfehnRMvA5v98qPASZkzCWZFuPT6QkpKsIhTBeGWtanyGxv/jipVSPBIWrmHMDKY51HVnRkrqW8aRPMIrEYPMS1PRi2GeI0UoYdYD1lJLF3FcxXNkRbPYjvd1jKsm2W901AlceOsmbTIdo9YcHzWile6a9gjlqxZs6iLg2yNyYFIXRdIWbfDQ2MCdwZ5YExJlG8COonlWDElcZQgSGzJU/4JqWRqY1CLWLCSjxbl8Cjrw1HEViV97NdbbL5PqyhiITf1HpQGzS/WcWCG10X+dpZZHIk/peGJdwcc1tsAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgBnZMtU8NAEIafu0RFgIgFi66klcWCLD+BH8AMMMzgGZjBgi22trG1xBZb29rYKphjL7l8XRvI8IrMZu/e3Xc/TtGAuSLigDM0Q/mNnXuDYU3IXD2SlXdVRbpmJIcTMSP2QbGVAIl6ZlERza1kgUv6QPGunvjQ5j6XdE5/TGxJIV9cSBRf3lZ8aVEDA+p67X/EIeNQzCOPlBHwUjZCFC345oFm7YqRls+xV8Oy1T1rl9lrxJp/QufS2hi6huGkxq7Opqq1MncyBpOPo4lMfJ/u0in+bA1pKDmXUrxPjIUwpguhzFGKX4m5oi+sTOEUzQmY9ybqYuVyYu+sxajSiuiyTrEb83u2WW2WwYqhJ52koP2sWgvgnsw+yRshJe3ku5GnnmS7u6/sqPaQywl4qxyGWVPinzA3DGTdTrrOfwA1X1g4JnG5gwAAAABJRU5ErkJggg==\""],"sourceRoot":""}