{"version":3,"sources":["contexts/AuthContext.js","components/ProtectedRoute.js","api/userAPI.js","contexts/CategoryContext.js","contexts/PostContext.js","components/TimeAgo.js","components/Post/PostCard.js","components/Post/DisplayPosts.js","components/Post/FeedPosts.js","components/Categories/FilterByCategories.js","pages/Home.js","components/Profile/UserProfile.js","components/Post/UserPosts.js","pages/Profile.js","components/Categories/CategoriesOnBoarding.js","pages/OnBoarding.js","components/Maps/Places.js","api/spotAPI.js","components/Maps/SpotHeader.js","components/Maps/NoPostsOnMap.js","components/Categories/CategoriesOnMap.js","components/Maps/MapContainer.js","pages/SpotsMap.js","Firebase/index.js","components/Post/ImageUpload.js","components/Categories/SelectCategoriesPost.js","components/Post/New.js","pages/CreatePost.js","pages/Landing.js","pages/Notifications.js","components/Navbar.js","components/Profile/EditProfile.js","components/Signup.js","components/FacebookLogin.js","components/Login.js","App.js","serviceWorker.js","index.js","images/icon-google-maps.png","images/discobolo.jpg","images/icon-google-maps2.png"],"names":["Context","React","createContext","service","axios","create","baseURL","process","withCredentials","AuthStore","state","loggedInUser","isLoadingUser","unreadNotifications","signup","user","a","post","data","login","logout","get","loggedin","setUser","setState","fetchUser","console","log","res","getUnreadNotifications","response","resetUnreadNotifications","this","Provider","value","props","children","Component","ProtectedRoute","component","rest","render","to","EDIT_USER","userId","mediaFile","firstName","lastName","team","country","hometown","editUser","ADD_CATEGORIES","categories","GET_NOTIFICATIONS","notifications","CategoryContext","allCategories","selectedCategoriesIds","getCategories","categoriesFromDb","onSelectCategories","e","name","target","checked","removeUserCategory","cleanSelectedCategoriesIds","myArray","includes","newArray","filter","category","onSubmitUserCategories","preventDefault","PostContext","feedPosts","feedPostsCopy","userPosts","mapsPost","mapsMarkers","mapsPostCopy","getFeedPosts","getUserPosts","getMapPosts","mapPosts","createPost","title","content","location","likePost","postId","commentPost","getSinglePost","filterOnBoundsSearch","areaSpot","insideSpot","forEach","spot","placeId","place_id","coordinates","lat","geometry","bounds","Ya","i","j","lng","Ua","push","filterPostsOnCategoryHome","filteredPosts","filterPostsOnCategory","context","length","filterOnSpotClick","id","filterMarkersOnMap","postsByCategory","categoriesSelected","some","element","contextType","TimeAgo","date","ReactTimeAgo","className","PostCard","likePostAndUpdateIt","_id","postUpdated","isInclude","likeUsers","src","url","Discobolo","Date","parse","created_at","terms","showArrows","showThumbs","showStatus","infiniteLoop","dynamicHeight","cancelable","map","media","type","playing","loop","controls","playIcon","width","height","style","maxWidth","left","likes","onClick","comments","text","min","ideal","max","readMoreText","DisplayPosts","posts","key","AuthContext","FeedPosts","FilterByCategories","onFilterCategoryChange","postContext","onMyFeed","onChange","Home","UserProfile","UserPosts","Profile","match","params","CategoriesOnBoarding","redirect","categoryContext","onSubmit","OnBoarding","PlacesAutocomplete","onInputSelect","spotLocation","geocodeByAddress","description","then","results","getLatLng","getLocation","onSelect","placeholder","onError","GoogleApiWrapper","apiKey","GET_SINGLE_SPOT","spotId","FOLLOW_SPOT","spotPlaceId","SpotHeader","isFollowingSpot","getSingleSpot","locationId","activeMarker","mySpot","checkIfAlreadyFollowing","followedBy","followSpot","prevProps","split","NoPostsOnMap","textAlign","marginTop","fontSize","color","position","bottom","CategoriesOnMap","categoriesLikedByUser","findCategoriesLikedByUser","usersFollowing","MapContainer","errorMessage","areaCoordinates","getPosts","catch","error","onMarkerClick","onMapClicked","getUserLocation","window","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","err","message","onReady","onDragend","centerMoved","google","zoom","center","index","postsNumber","icon","iconActive","iconNormal","Places","renderMap","SpotsMap","firebase","initializeApp","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","ImageUpload","image","progress","handleUpload","files","ref","put","on","snapshot","Math","round","bytesTransferred","totalBytes","child","getDownloadURL","file","getMediaFile","alt","SelectCategoriesPost","Post","onInputChange","CreatePost","New","Landing","Notifications","getNotifications","notification","postUrl","action","NavBar","logoutUser","activeClassName","exact","EditProfile","Signup","email","password","handleChange","handleSubmit","history","FacebookLogin","href","Login","username","currentUser","App","Navbar","path","Boolean","hostname","JavascriptTimeAgo","locale","en","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.455dcf6e.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nconst Context = React.createContext()\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n})\n\nexport class AuthStore extends React.Component {\n    state = { \n      loggedInUser: null, \n      isLoadingUser: true, \n      unreadNotifications: null\n    };\n    \n    signup = async user => {\n      const data = await service.post('/auth/signup', user)\n      return data\n    }\n\n   login = async user => {\n      const { data } = await service.post('/auth/login', user)\n      return data\n    }\n   \n   logout = async () => {\n      const { data } = await service.get('/auth/logout')\n      return data\n    }\n\n   loggedin = async () => {\n    const { data } = await service.get('/auth/loggedin')\n    return data.user\n   }\n\n    setUser = user => {\n        this.setState({\n          loggedInUser: user\n        });\n      };\n\n    fetchUser = async () => {\n      console.log('fetching user')\n        try {\n          const res = await this.loggedin();\n          this.setState({\n            loggedInUser: res,\n            isLoadingUser: false\n          });\n        } catch(err) {\n          this.setState({\n            loggedInUser: null,\n          });\n        }\n    };\n\n    getUnreadNotifications = async () => {\n      try {\n        const response = await service.get('/profile/unread-notifications')\n        this.setState({ unreadNotifications: response.data.unreadNotifications })\n      } catch(err){\n        console.log(err)\n      }\n    }\n\n    resetUnreadNotifications = async () => {\n       try {\n         await service.get(`/profile/reset-unread-notifications`)\n         this.setState({ unreadNotifications: 0 })\n       } catch(err){\n          console.log(err)\n      }\n    }    \n  \n  render(){\n    const { signup, login, logout, setUser, fetchUser, getUnreadNotifications, resetUnreadNotifications } = this\n      return(\n          <Context.Provider \n              value={{ ...this.state, \n              signup, \n              login, \n              logout, \n              setUser, \n              fetchUser, \n              getUnreadNotifications,\n              resetUnreadNotifications }}>\n              {this.props.children}\n          </Context.Provider>\n      )\n  }\n}\n\nexport default Context\n\n\n\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\nconst ProtectedRoute = ({ component: Component, user, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (user) {\n          return <Component {...props} user={user} {...rest} />\n        } else {\n          return <Redirect to='/login' />\n        }\n      }}\n    />\n  )\n}\n\nexport default ProtectedRoute\n","import axios from 'axios'\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n})\n\nexport const EDIT_USER = async (userId, mediaFile, firstName, lastName, team, country, hometown) => {\n  const editUser = await service.post(`/profile/edit/${userId}`, {\n    mediaFile,\n    firstName,\n    lastName,\n    team,\n    country,\n    hometown\n  })\n  return editUser.data\n}\n\nexport const ADD_CATEGORIES = async categories => {\n  await service.post('/profile/add-categories', { categories })\n}\n\nexport const GET_NOTIFICATIONS = async userId => {\n  const notifications = await service.get(`/profile/notifications/${userId}`)\n  return notifications.data\n}\n","import React from 'react'\nimport axios from 'axios'\n\nimport { ADD_CATEGORIES } from '../api/userAPI'\n\nconst Context = React.createContext()\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n})\n\nexport class CategoryContext extends React.Component {\n    state = { \n        allCategories: [],\n        selectedCategoriesIds: [],\n    };\n\n    getCategories = async () => {\n        try {\n         const categoriesFromDb = await service.get('/categories/all')\n         this.setState({ allCategories: categoriesFromDb.data })\n        } catch(err){\n            console.log(err)\n        }\n     }\n\n     onSelectCategories = e => {\n        const { name } = e.target;\n        if(e.target.checked){\n          this.setState({\n            selectedCategoriesIds: [...this.state.selectedCategoriesIds, name],\n          })\n        } else {\n          this.removeUserCategory(name)\n        }\n      }\n\n      cleanSelectedCategoriesIds = () => {\n        this.setState({ selectedCategoriesIds: [] })\n      }\n\n      removeUserCategory = (name) => {\n        let myArray = [...this.state.selectedCategoriesIds]\n          if(myArray.includes(name)){\n            const newArray = myArray.filter(category => {\n              return category !== name\n            })\n            this.setState({ selectedCategoriesIds: newArray })\n          }\n        }\n\n        onSubmitUserCategories = async e => {\n            e.preventDefault();\n              try {\n                await ADD_CATEGORIES(this.state.selectedCategoriesIds)\n            }  catch(err){\n                  console.log(err)\n             }\n          };\n\n  render(){\n      const { getCategories, onSelectCategories, removeUserCategory, onSubmitUserCategories, cleanSelectedCategoriesIds } = this\n      return(\n          <Context.Provider \n              value={{ \n                  ...this.state,\n                  getCategories,\n                  onSelectCategories,\n                  removeUserCategory,\n                  onSubmitUserCategories,\n                  cleanSelectedCategoriesIds\n                   }}>\n              {this.props.children}\n          </Context.Provider>\n      )\n  }\n}\n\nexport default Context\n\n\n\n","import React from 'react'\nimport axios from 'axios'\nimport CategoryContext from './CategoryContext'\n\nconst Context = React.createContext()\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true,\n})\n\nexport class PostContext extends React.Component {\n    static contextType = CategoryContext\n   \n    state = {\n        feedPosts: [],\n        feedPostsCopy: [],\n        userPosts: [],\n        mapsPost: [],\n        mapsMarkers: [],\n        mapsPostCopy: [],\n      };\n\n      getFeedPosts = async () => {\n           try {\n            const feedPosts = await service.get('/post/all')\n            this.setState({ feedPosts: feedPosts.data, feedPostsCopy: feedPosts.data })\n            return feedPosts.data\n           } catch(err){\n               console.log(err)\n           }\n      }\n\n      getUserPosts = async userId => {\n        try {\n            const userPosts = await service.get(`/post/user/${userId}`)\n            this.setState({ userPosts: userPosts.data })\n        }\n        catch(err){\n            console.log(err)\n        }\n    }\n\n    getMapPosts = async () => {\n        try {\n         const mapPosts = await service.get('/post/all/spot')\n         this.setState({ \n             mapsPost: mapPosts.data,\n             mapsPostCopy: mapPosts.data,\n             mapsMarkers: mapPosts.data\n          })\n         return mapPosts.data\n        } catch(err){\n            console.log(err)\n        }\n   }\n\n    createPost = async (title, content, mediaFile, location, categories) => {\n        console.log(mediaFile, 'media con context')\n        try {\n            await service.post('/post/new', {\n                title,\n                content,\n                mediaFile,\n                location,\n                categories\n              })\n        } catch(err){\n            console.log(err)\n        }\n    }\n\n      likePost = async postId => {\n        try {\n            await service.post(`/post/like/${postId}`)\n        } catch(err){\n            console.log(err)\n        }\n       }\n\n       commentPost = async (postId, content) => {\n        try {\n            await service.post(`/post/${postId}/comment`, { content })\n        } catch(err){\n            console.log(err)\n      }\n    }\n  \n    getSinglePost = async postId => {\n        try {\n            const post = await service.get(`/post/${postId}`)\n            return post.data\n        } catch(err){\n            console.log(err)\n        }\n    }\n\n    filterOnBoundsSearch = areaSpot => {\n            let insideSpot = [] \n            this.state.mapsMarkers.forEach(post => {\n            if(!post.spot) {\n               return \n            } else {\n                if(post.spot.placeId == areaSpot.place_id || post.spot.location.coordinates.lat >= areaSpot.geometry.bounds.Ya.i && post.spot.location.coordinates.lat <= areaSpot.geometry.bounds.Ya.j && post.spot.location.coordinates.lng >= areaSpot.geometry.bounds.Ua.i && post.spot.location.coordinates.lng <= areaSpot.geometry.bounds.Ua.j){\n                    insideSpot.push(post)\n                }\n            }\n        })\n        console.log(insideSpot, 'inside spot')\n        this.setState({ mapsPost: insideSpot })\n     }\n\n    \n\n    //  filterPostsOnCategory = (stateArrayCopy) => {\n    //     let filteredFeedPosts = []\n    //     const categoriesSelected = this.context.selectedCategoriesIds\n    //      stateArrayCopy.forEach(post => {\n    //        const found = post.categories.some(element => categoriesSelected.includes(element))\n    //        if(found){\n    //         filteredFeedPosts = [...filteredFeedPosts, post]\n    //        }\n    //     }) \n    //     return filteredFeedPosts\n    //  }\n\n     filterPostsOnCategoryHome = () => {\n       const filteredPosts = this.filterPostsOnCategory(this.state.feedPostsCopy)\n        this.setState({ feedPosts: filteredPosts })\n        if(this.context.selectedCategoriesIds.length == 0){\n            this.setState({ feedPosts: this.state.feedPostsCopy })\n        }\n    }\n\n    filterOnSpotClick = id => {\n         const filteredPosts = this.state.mapsMarkers.filter(post => {\n          if(post.spot && post.spot.placeId == id){ \n           return post\n          }\n        })\n        this.setState({ mapsPost: filteredPosts })\n     }\n\n\n    filterMarkersOnMap = () => {\n        let postsByCategory = []\n        const categoriesSelected = this.context.selectedCategoriesIds\n        this.state.mapsPostCopy.forEach(post => {\n            const found = post.categories.some(element => categoriesSelected.includes(element))\n            if(found){\n                postsByCategory = [...postsByCategory, post]\n            }\n         }) \n         this.setState({ \n             mapsMarkers: postsByCategory,\n        })\n       \n        if(categoriesSelected.length === 0) {\n            this.setState({ mapsMarkers: this.state.mapsPostCopy})\n        }\n    }\n\n  render(){\n    const { getFeedPosts, getUserPosts, getMapPosts, createPost, likePost, commentPost, getSinglePost, filterOnBoundsSearch, filterOnSpotClick, filterMarkersOnMap, filterPostsOnCategoryHome } = this\n      return(\n          <Context.Provider \n              value={{ \n                  ...this.state, \n                  getFeedPosts, \n                  getUserPosts,\n                  getMapPosts, \n                  createPost, \n                  likePost, \n                  commentPost,\n                  getSinglePost,\n                  filterOnBoundsSearch,\n                  filterOnSpotClick,\n                  filterMarkersOnMap,\n                  filterPostsOnCategoryHome\n                }}>\n\n\n              {this.props.children}\n          </Context.Provider>\n      )\n  }\n}\n\nexport default Context\n\n\n\n","import React from 'react'\nimport ReactTimeAgo from 'react-time-ago'\n\nexport default function TimeAgo ({ date }) {\n  return (\n    <div>\n      <ReactTimeAgo date={date} className='time-ago' />\n    </div>\n  )\n}\n","import '../scss/PostCard.scss'\nimport React from 'react'\nimport ReactPlayer from 'react-player'\nimport { Carousel } from 'react-responsive-carousel';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport PostContext  from '../../contexts/PostContext'\nimport TimeAgo from '../../components/TimeAgo'\nimport Discobolo  from '../../images/discobolo.jpg'\nimport ChatBubbleRoundedIcon from '@material-ui/icons/ChatBubbleRounded';\nimport ThumbUpAltRoundedIcon from '@material-ui/icons/ThumbUpAltRounded';\nimport ReplyRoundedIcon from '@material-ui/icons/ReplyRounded';\nimport RoomRoundedIcon from '@material-ui/icons/RoomRounded';\nimport ReadMoreReact from 'read-more-react';\n\nclass PostCard extends React.Component {\n  static contextType = PostContext\n  \n  state = { post: this.props.post}\n\n  likePostAndUpdateIt = async postId => {\n    postId = this.state.post._id\n    try {\n      await this.props.likePost(postId)\n      const postUpdated = await this.context.getSinglePost(postId)\n      this.setState({ post: postUpdated })\n    } catch(err){\n      console.log(err, 'err')\n    }\n  }\n\n  isInclude = likeUsers => {\n      const isThere = likeUsers.includes(this.props.loggedInUser._id)\n      return isThere\n  }\n\n  render () {\n    return (\n      <div className='post-card-container'>\n        <div className='post-card-header'>\n          <div>\n            <img className='ui avatar image circular' src={this.state.post.user.mediaFile.url ? this.state.post.user.mediaFile.url : Discobolo } />\n          </div>\n          <div className='post-card-header-content'>\n            <p><strong>{this.state.post.user.firstName} {this.state.post.user.lastName}</strong></p>\n            <div className=\"spot-info\">\n              <span> <TimeAgo date={Date.parse(this.state.post.created_at)} /> </span>\n               <span className=\"dot-location\"></span>\n               <span className=\"location-name\"><RoomRoundedIcon /> {this.state.post.spot && this.state.post.spot.location.terms ? this.state.post.spot.location.terms[0].value : \"Its a mistery :o\"}</span>\n            </div> \n          </div>\n        </div>\n        <div>\n          <Carousel showArrows={false} showThumbs={false} showStatus={false} infiniteLoop={this.state.post.mediaFile.length >= 2? true : false } dynamicHeight={true} cancelable={false}>\n            {this.state.post.mediaFile && this.state.post.mediaFile.map(media => {\n              if (media.type[0] == \"v\"){\n              return (\n                <div>\n                  <ReactPlayer\n                  className='react-player'\n                  playing={false}\n                  loop={true}\n                  controls={true}\n                  playIcon=\"\"\n                  url= {media.url}\n                  width='100%'\n                  height='100%'\n                />\n              </div>\n              )}\n              else if(media.type[0] == \"i\" ){\n                return (\n                <img src={media.url} style={{ maxWidth: '100vw', left: '0px' }} />\n                )}\n              else{\n                \n              }\n            })}\n          </Carousel>\n        </div>\n\n        <div className='post-card-icons'>\n          <div className={this.isInclude(this.state.post.likes)? \"like\" : \"\" } onClick={this.likePostAndUpdateIt}>\n            <ThumbUpAltRoundedIcon />\n            <br/>\n            <p>{this.state.post.likes.length}</p>\n          </div>\n          <div className=\"coment\">\n            <ChatBubbleRoundedIcon />\n            <p>{this.state.post.comments.length}</p>\n          </div>\n          <div className=\"share\">\n            <ReplyRoundedIcon />\n          </div>\n        </div> \n        <p className=\"description\">\n          <ReadMoreReact \n            text={this.state.post.content}  \n            min={70}\n            ideal={75}\n            max={85}\n            readMoreText={\"...READ MORE\"}\n            /></p>\n        <div className=\"spacer\"></div>\n      </div>\n    )\n  }\n}\n\nexport default PostCard\n","import React from 'react'\nimport AuthContext  from '../../contexts/AuthContext'\nimport PostCard from './PostCard'\n\n\n\n\nclass DisplayPosts extends React.Component {\n  static contextType = AuthContext\n  render(){\n    return <div>\n    {this.props.posts && this.props.posts.map(post => {\n      return (\n        <div key={post._id}>\n          <PostCard post={post} likePost={this.props.likePost} loggedInUser={this.context.loggedInUser}/>\n        </div>\n      )\n    })}\n  </div>\n  }\n}\n\nexport default DisplayPosts\n","import React from 'react'\nimport PostContext  from '../../contexts/PostContext'\n\nimport DisplayPosts from './DisplayPosts'\n\nclass FeedPosts extends React.Component {\n  static contextType = PostContext\n    componentDidMount(){\n      this.context.getFeedPosts()\n   }\n  render () {\n    return (\n        <DisplayPosts \n           posts={this.context.feedPosts} \n           likePost={this.context.likePost}\n           commentPost={this.context.commentPost}\n        />\n    )\n  }\n}\n\nexport default FeedPosts\n\n","import '../scss/feedFilter.scss'\nimport React from 'react'\nimport CategoryContext from '../../contexts/CategoryContext'\n\nclass FilterByCategories extends React.Component {\n   static contextType = CategoryContext\n\n  componentDidMount () {\n    this.context.cleanSelectedCategoriesIds()\n    this.context.getCategories()\n  }\n\n  onFilterCategoryChange = async e => {\n    await this.context.onSelectCategories(e)\n    this.props.postContext.filterPostsOnCategoryHome()\n  }\n\n  onMyFeed = async e => {\n\n  }\n\n  render () {\n    return (\n      <div className='feed-cat'>\n        <div className='onboarding'>\n          <div className=\"item\">\n            <button onClick={this.onMyFeed} >My Feed</button>\n          </div>\n        {this.context.allCategories.map(category => {\n          return (\n              <div key={category._id} className='item'>\n                <label className='container'>\n                <input onChange={this.onFilterCategoryChange} type='checkbox' name={category._id} />\n                <span className={`checkmark  ${category.name}`}>{category.name}</span>\n                </label>\n              </div>\n          )\n        })}\n      </div>\n      </div>\n    )\n  }\n}\n\nexport default FilterByCategories\n","import React from 'react'\nimport PostContext from '../contexts/PostContext'\nimport '../components/scss/feedFilter.scss'\nimport SearchRoundedIcon from '@material-ui/icons/SearchRounded';\n\nimport FeedPosts from '../components/Post/FeedPosts'\nimport FilterByCategories from '../components/Categories/FilterByCategories'\n\nclass Home extends React.Component {\n  static contextType = PostContext\n  render () {\n    return (\n      <div>\n        <div className=\"feed-header\">\n          <h1 >altima</h1>\n          <SearchRoundedIcon />\n        </div>\n        <FilterByCategories postContext={this.context} />\n        <FeedPosts />\n      </div>\n    )\n  }\n}\n\nexport default Home\n","import React from 'react'\nimport {Link} from 'react-router-dom';\nimport AuthContext  from '../../contexts/AuthContext'\n\nclass UserProfile extends React.Component {\n  static contextType = AuthContext\n  \n\n  state = { \n      content: '',\n      mediaFile: []\n    }\n  \n\n  render () {\n    return (\n      <div className='profile-body'>\n        <Link to={`/profile/edit/${this.context.loggedInUser && this.context.loggedInUser._id}`} className=\"item\">\n            <i className=\"user icon\"></i>\n          </Link>\n  <h4 className='header'>Federico Barriola</h4>\n        <div className='content right floated profile-basics'>\n        <div className='ui horizontal list'>\n          <div className='item'>\n            <div className='content'>\n              <div className='header'>Posts</div>\n              <p>50</p>\n            </div>\n          </div>\n          <div className='item'>\n            <div className='content'>\n              <div className='header'>Followers</div>\n              <p>440</p>\n            </div>\n          </div>\n          <div className='item'>\n            <div className='content'>\n              <div className='header'>Following</div>\n              <p>500</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <button className='ui primary fluid button'>Follow</button>\n      <div className='block'>\n        <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n             Lorem Ipsum has been the industry's.\n        </p>\n      </div>\n      <div className='ui two item profile-menu'>\n        <a className='item active'>Posts</a>\n        <a className='item'>liked</a>\n      </div>\n      {/* <UserPosts userId={userId} /> */}\n    </div>\n    )\n  }\n}\n\nexport default UserProfile\n","import React from 'react'\nimport PostContext  from '../../contexts/PostContext'\n\nimport PostCard from './PostCard'\nimport DisplayPosts from './DisplayPosts'\n\n\nclass UserPosts extends React.Component {\n  static contextType = PostContext\n  \n    componentDidMount() {\n      const { userId } = this.props\n      this.context.getUserPosts(userId)\n    }\n\n  render () {\n    return (\n      <div>\n         <DisplayPosts \n             posts={this.context.userPosts} \n             likePost={this.context.likePost}\n             commentPost={this.context.commentPost}\n          />\n      </div> \n    )\n  }\n}\n\nexport default UserPosts\n","import '../components/scss/profile.scss'\nimport React from 'react'\nimport UserProfile from '../components/Profile/UserProfile'\nimport UserPosts from '../components/Post/UserPosts'\n\nclass Profile extends React.Component {\n  render () {\n    const userId = this.props.match.params.id\n    return (\n      <div>\n        <UserProfile />\n        <UserPosts userId={userId} />\n      </div>\n    )\n  }\n}\n\nexport default Profile\n","import '../scss/onboarding.scss'\nimport React from 'react'\nimport { Redirect } from 'react-router-dom'\n\nclass CategoriesOnBoarding extends React.Component {\n  state = { redirect: false }\n\n  componentDidMount () {\n    this.props.categoryContext.cleanSelectedCategoriesIds()\n    this.props.categoryContext.getCategories()\n  }\n\n onSubmitUserCategories = (e) => {\n  this.props.categoryContext.onSubmitUserCategories(e)\n  this.setState({ redirect: true })\n }\n\n  render () {\n    if (this.state.redirect) {\n      return <Redirect to='/'/>;\n    }\n    return (\n      <div className='category ui secondary fluid three item'>\n        <div className='onboarding'>\n          {this.props.categoryContext.allCategories.map(category => {\n            return (\n                <div key={category._id} className='item'>\n                  <label className='container'>\n                  <input onChange={this.props.categoryContext.onSelectCategories} type='checkbox' name={category._id} />\n                  <span className={`checkmark  ${category.name}`}></span>\n                  <label className=\"cat-name\">{category.name}</label>\n                  </label>\n                </div>\n            )\n          })}\n        </div>\n        <form onSubmit={this.onSubmitUserCategories}>\n          {this.props.categoryContext.selectedCategoriesIds.length >= 1 ? <button>Done</button> : ''}\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default CategoriesOnBoarding\n","import React from 'react'\nimport { Redirect } from 'react-router-dom'\nimport CategoryContext from '../contexts/CategoryContext'\n\nimport CategoriesOnBoarding from '../components/Categories/CategoriesOnBoarding'\n\nclass OnBoarding extends React.Component {\n  static contextType = CategoryContext\n  render () {\n    return (\n      <div>\n        <h1 className=\"onb-title\">Choose the sports you enjoy</h1>\n        <CategoriesOnBoarding categoryContext={this.context} />\n      </div>\n    )\n  }\n}\n\nexport default OnBoarding\n","import React from 'react';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport {geocodeByAddress, getLatLng} from 'react-google-places-autocomplete';\nimport {GoogleApiWrapper} from 'google-maps-react';\n// If you want to use the provided css\nimport 'react-google-places-autocomplete/dist/index.min.css';\n \nclass PlacesAutocomplete extends React.Component {\n\n    onInputSelect = spotLocation => {\n        geocodeByAddress(spotLocation.description)\n        .then(results => getLatLng(results[0]))\n        .then(({ lat, lng }) => {\n          spotLocation.coordinates = { lat, lng } \n          this.props.getLocation(spotLocation)\n        })\n    }\n\n    \n// Log error status and clear dropdown when Google Maps API returns an error.\n   \n  render(){\n      return(\n        <div>\n        <GooglePlacesAutocomplete\n          onSelect={this.onInputSelect}\n          placeholder='Search cities, places and more...'\n          onError={this.onError}\n        />\n      </div>\n      )\n  }\n}\n \nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAPS_API\n})(PlacesAutocomplete)\n","import axios from 'axios'\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true\n})\n\nexport const GET_ALL_SPOTS = async () => {\n  const spots = await service.get('/spot/all')\n  console.log(spots.data, 'spots.data')\n  return spots.data\n}\n\nexport const GET_SINGLE_SPOT = async (spotId) => {\n  const spot = await service.get(`/spot/${spotId}`)\n  return spot.data\n}\n\nexport const FOLLOW_SPOT = async (spotPlaceId, location) => {\n  await service.post('/spot/follow', {\n    spotPlaceId,\n    location\n  })\n}\n\n// export const CREATE_SPOT = async (spotPlaceId, location) => {\n//   await service.post('/spot/create', {\n//     spotPlaceId,\n//     location\n//   })\n// }\n","import '../../components/scss/SpotHeader.scss'\nimport React from 'react'\nimport { FOLLOW_SPOT, GET_SINGLE_SPOT } from '../../api/spotAPI'\nimport iconActive from '../../images/icon-google-maps.png'\nimport AuthContext from '../../contexts/AuthContext'\n\nclass SpotHeader extends React.Component {\n  static contextType = AuthContext\n\n  state = { spot: null, isFollowingSpot: null }\n  \n    async componentDidMount(){\n      await this.getSingleSpot()\n    }\n\n    async componentDidUpdate(prevProps) {\n      if (prevProps.activeMarker.place_id  !== this.props.activeMarker.place_id) {\n        await this.getSingleSpot()\n      }\n    }\n     \n    getSingleSpot = async () => {\n      const locationId = this.props.activeMarker.place_id\n         try {\n          const mySpot = await GET_SINGLE_SPOT(locationId)\n          this.setState({ spot: mySpot[0] })\n          this.checkIfAlreadyFollowing()\n         } catch(err) {\n          console.log(err)\n         }\n    }\n  \n    checkIfAlreadyFollowing = () => {\n      const spot = this.state.spot\n        if(spot && spot.followedBy.includes(this.context.loggedInUser._id)){\n          console.log('following')\n          this.setState({ isFollowingSpot: true })\n        } \n      else {\n        console.log('not following')\n        this.setState({ isFollowingSpot: false })\n      }\n    }\n\n    followSpot = async (e, spotPlaceId, location) => {\n      spotPlaceId = this.props.activeMarker.place_id\n      location = this.props.activeMarker\n        e.preventDefault()\n        try {\n          await FOLLOW_SPOT(spotPlaceId, location)\n          await this.getSingleSpot()\n        } catch (err) {\n          console.log(err, \"message\");\n        }\n      };\n\n  render () {\n    const description = this.props.activeMarker.description ? this.props.activeMarker.description.split(',')[0] : this.props.activeMarker.location.terms[0].value\n    return (\n       <div className='spot-header-section'>\n        <div className='divider' />\n        <div className='spot-header-container'>\n            <h1>{description}</h1>\n          <form onSubmit={this.followSpot}>\n              {this.state.isFollowingSpot === true  ?  <button className=\"unfollow-btn\">Unfollow</button> :  <button className=\"follow-btn\">Follow</button>}\n          </form> \n        </div>\n            <div className=\"spot-info\">\n              <span>{this.state.spot && this.state.spot.followedBy.length || 0 } Followers</span>\n               <span className=\"dot\"></span>\n               <span>{this.state.spot && this.state.spot.posts.length} Posts</span>\n            </div> \n      </div>\n    )\n  }\n}\n\nexport default SpotHeader\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nconst NoPostsOnMap = ({ activeMarker }) => {\n  const description = activeMarker.description ? activeMarker.description.split(',')[0] : activeMarker.location.terms[0].value\n\n  return (\n    <div style={{ textAlign: 'center', marginTop: '80px' }}>\n      <p style={{ fontSize: '18px', color: '#737373' }}>\n          There are no posts here just yet\n      </p><br />\n      <p style={{ fontSize: '18px', color: '#737373', position: 'relative', bottom: '30px' }}>\n          Be the first to tell the world about {description}\n      </p>\n      <Link to='/create-post'>\n         Create a post\n      </Link>\n    </div>\n  )\n}\n\nexport default NoPostsOnMap\n","import '../scss/CategoriesOnMap.scss'\nimport React from 'react'\nimport AuthContext from '../../contexts/AuthContext'\n\nclass CategoriesOnMap extends React.Component {\n    static contextType = AuthContext\n\n    state = { categoriesLikedByUser: [] }\n\n    async componentDidMount () {\n      this.props.categoryContext.cleanSelectedCategoriesIds()\n      await this.props.categoryContext.getCategories()\n      this.findCategoriesLikedByUser()\n    }\n\n    onFilterCategoryChange = async e => {\n      const categoryId = e.target.name\n      await this.props.categoryContext.onSelectCategories(e)\n      this.props.postContext.filterMarkersOnMap()\n     \n      if(this.props.activeMarker){\n        this.props.getLocation(this.props.activeMarker)\n      }\n    }\n\n    \n  findCategoriesLikedByUser = () => {\n    let categoriesLikedByUser = []\n    this.props.categoryContext.allCategories.forEach(category => {\n         if(category.usersFollowing.includes(this.context.loggedInUser._id)){\n          categoriesLikedByUser = [...categoriesLikedByUser, category]\n         }\n    })\n    this.setState({ categoriesLikedByUser })\n  }\n\n  render () {\n    console.log(this.props.categoryContext.allCategories, 'this.props.categoryContext.allCategories')\n    return (\n      <div className='categories-on-map'>\n        <div className=\"wrapper-categories\">\n      {this.state.categoriesLikedByUser.map((category, i) => {\n            return (\n              <div key={i} className='item'>\n                <label className='container '>\n                  <input onChange={this.onFilterCategoryChange} type='checkbox' name={category._id} />\n                  <span className=\"checkmark\">{category.name}</span>\n                 </label>\n              </div>\n            )\n          })}\n          </div>\n          <div className=\"all-categories\">\n           <span>.</span>\n           <span>.</span>\n           <span>.</span>\n          </div>\n      </div>\n    )\n  }\n}\n\nexport default CategoriesOnMap\n","import '../../components/scss/Map.scss'\nimport React from 'react';\nimport { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\nimport { geocodeByAddress } from 'react-google-places-autocomplete';\n\nimport PostContext  from '../../contexts/PostContext'\nimport Places from '../Maps/Places'\nimport SpotHeader from './SpotHeader'\nimport NoPostsOnMap from './NoPostsOnMap'\nimport DisplayPosts from '../../components/Post/DisplayPosts'\nimport CategoriesOnMap from '../../components/Categories/CategoriesOnMap'\nimport iconActive from '../../images/icon-google-maps.png'\nimport iconNormal from '../../images/icon-google-maps2.png'\n//import iconUser from '../../images/icon-user-location.png'\n\nclass MapContainer extends React.Component {\n  static contextType = PostContext\n\n  state = { \n     lat: null,\n     lng: null,\n     activeMarker: null,\n     errorMessage: '',\n     areaCoordinates: null\n     }\n \n     componentDidMount(){\n      this.getUserLocation()\n     // this.props.categoryContext.cleanSelectedCategoriesIds()\n     // this.props.categoryContext.getCategories()\n     }\n    \n    getPosts = async () => {\n       try {\n         await this.context.getMapPosts()\n       } catch(err) {\n         console.log(err)\n       }\n    }\n\n    getLocation = spotLocation => {\n     const description = spotLocation.description ? spotLocation.description : spotLocation.location.description\n     const { lat, lng } = spotLocation.coordinates || spotLocation.location.coordinates\n      geocodeByAddress(description)\n       .then(results => {\n         this.setState({ \n           areaCoordinates: results[0]\n          })   \n          if (this.state.areaCoordinates.geometry.bounds){\n            this.context.filterOnBoundsSearch(this.state.areaCoordinates)\n          } else{\n           this.context.filterOnSpotClick(spotLocation.place_id)\n          }\n           this.setState({ \n            activeMarker: spotLocation,\n            lat,\n            lng\n           }) \n\n          //  if(this.state.activeMarker){\n          //    this.context.filterMarkersOnCategories(this.state.activeMarker.place_id)\n          // }\n       })\n       .catch(error => console.error(error));\n     }\n    \n      onMarkerClick = props => {\n        this.getLocation(props.location)\n      }\n\n      onMapClicked = (props) => {\n          this.setState({\n            activeMarker: null\n          })\n      };\n      \n      getUserLocation = () => {\n        window.navigator.geolocation.getCurrentPosition(\n          (position) => {\n            this.setState({ \n              lat: position.coords.latitude,\n              lng: position.coords.longitude \n           })\n          },\n           err => {\n             this.setState({ errorMessage: err.message })\n           }\n         )\n      }\n    \n  renderMap(){\n    const style = {\n      width: '100%',\n      height: '100%'\n    }    \n   \n    if(this.state.errorMessage){\n      return <div>Error message: {this.state.errorMessage}</div>\n    } \n\n    if(!this.state.errorMessage && this.state.lat && this.state.lng) {\n        return <Map \n        onClick={this.onMapClicked}\n        onReady={this.getPosts}\n        onDragend={this.centerMoved}\n        google={this.props.google} \n        style={style}\n        zoom={6}\n        center={{\n            lat: this.state.lat,\n            lng: this.state.lng\n          }}>\n          {this.context.mapsMarkers && this.context.mapsMarkers.map((post, index) => {\n            if(post.spot){\n              return  <Marker \n              onClick={this.onMarkerClick} \n              place_id={post.spot.location.place_id} \n              location={post.spot.location}\n              postsNumber={post.spot.posts.length}\n              key={index}  \n              icon={\n                this.state.activeMarker && this.state.activeMarker.place_id == post.spot.location.place_id ? iconActive : iconNormal\n                  }\n              position={{ lat: post.spot.location.coordinates.lat, lng: post.spot.location.coordinates.lng }} /> \n            }})}\n            {/* <Marker   \n              icon={iconUser}\n              position={{ lat: this.state.lat, lng: this.state.lng  }} />  */}\n        </Map>\n    } \n    return <p>Loading..</p>\n  }\n\n  render(){\n    return (\n      <div className=\"map-wrapper\">\n          <div className=\"places-container\">\n            <Places getLocation={this.getLocation} />\n          </div>\n            <CategoriesOnMap \n            getLocation={this.getLocation}\n            categoryContext={this.props.categoryContext}\n            postContext={this.context}\n            activeMarker={this.state.activeMarker}\n             />\n          <div id=\"map\">\n            { this.renderMap() }\n          </div>\n          <div className=\"map-feed\" >\n            {this.state.activeMarker &&  \n                 <SpotHeader \n                 activeMarker={this.state.activeMarker}\n                 mapsPost={this.context.mapsPost}\n                 />\n            }\n            {(this.state.activeMarker && this.context.mapsPost.length >= 1) &&\n                 <DisplayPosts \n                  posts={this.context.mapsPost} \n                  likePost={this.context.likePost}\n                  commentPost={this.context.commentPost}\n                  />  \n            }\n            {(this.state.activeMarker && this.context.mapsPost.length === 0) &&\n                <NoPostsOnMap activeMarker={this.state.activeMarker}/>\n            }\n         </div>\n        </div>\n      );\n  }\n}\n \nexport default GoogleApiWrapper({\n  apiKey: process.env.REACT_APP_GOOGLE_MAPS_API\n})(MapContainer)\n\n\n","import React from 'react'\nimport MapContainer from '../components/Maps/MapContainer'\n\nimport CategoryContext from '../contexts/CategoryContext'\n\n\nclass SpotsMap extends React.Component {\n  static contextType = CategoryContext\n  \n  render () {\n    return (\n      <div>\n        <MapContainer categoryContext={this.context} />\n      </div>\n    )\n  }\n}\n\nexport default SpotsMap\n","import firebase from 'firebase/app'\nimport 'firebase/storage'\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_GOOGLE_API,\n  authDomain: 'hurricane-f3d3.firebaseapp.com',\n  databaseURL: 'https://hurricane-f3d3.firebaseio.com',\n  projectId: 'hurricane-f3d3',\n  storageBucket: 'hurricane-f3d3.appspot.com',\n  messagingSenderId: '6599025301',\n  appId: '1:6599025301:web:9b4a2bb243699265b9319c',\n  measurementId: 'G-7QPDNKG1YM'\n}\n\n// Initialize Firebase\n\nfirebase.initializeApp(firebaseConfig)\n\nconst storage = firebase.storage()\n\nexport { firebase, storage as default }\n","import React, { Component } from \"react\";\nimport storage from \"../../Firebase/index\";\n\nclass ImageUpload extends Component {\n    \n state = {\n      image: null,\n      url: \"\",\n      progress: 0,\n    };\n\n  handleUpload = e => {\n    if (e.target.files[0]) {      \n      const image = e.target.files[0];\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {\n          // progress function ...\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          this.setState({ progress });\n        },\n        error => {\n          // Error function ...\n          console.log(error);\n        },\n        () => {\n          // complete function ...\n          storage\n            .ref(\"images\")\n            .child(image.name)\n            .getDownloadURL()\n            .then(url => {\n              let file = {}\n              console.log(image, 'image')\n              file.type = image.type\n              file.url = url\n              this.props.getMediaFile(file)\n              this.setState({ \n                url\n              });\n              \n            });\n        }\n      );\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"row\">\n          <progress value={this.state.progress} max=\"100\" className=\"progress\" />\n        </div>\n          <div>\n            <input type=\"file\" onChange={this.handleUpload} />\n          </div>\n          <img\n          src={this.state.url}\n          alt=\"Uploaded Images\"\n          height=\"300\"\n          width=\"400\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default ImageUpload;","import React from 'react'\nimport CategoryContext from '../../contexts/CategoryContext'\n\n\nclass SelectCategoriesPost extends React.Component {\n  static contextType = CategoryContext\n\n  componentDidMount(){\n    this.context.getCategories()\n  }\n  render () {\n    return (\n      <div>\n      {this.context.allCategories.map(category => {\n                 return (\n            <div key={category._id}>\n                   <span>{category.name}</span>\n                   <input onChange={this.context.onSelectCategories} type=\"checkbox\" name={category._id}/>\n            </div>\n            )\n        })}\n      </div>\n    )\n  }\n}\n\nexport default SelectCategoriesPost\n","import React from 'react'\nimport  { Redirect } from 'react-router-dom'\nimport ImageUpload from './ImageUpload'\nimport Places from '../Maps/Places'\n\nimport CategoryContext  from '../../contexts/CategoryContext'\n\nimport SelectCategoriesPost from '../../components/Categories/SelectCategoriesPost'\n\n\nclass Post extends React.Component {\n   static contextType = CategoryContext\n\n  state = { \n      title: '',\n      content: '',\n      mediaFile: [],\n      location: null,\n      redirect: false\n    }\n\n    async componentDidMount(){\n      await this.context.cleanSelectedCategoriesIds()\n    }\n  \n  onSubmit = async e => {\n    e.preventDefault();\n      try {\n        await this.props.postContext.createPost(\n          this.state.title,\n          this.state.content,\n          this.state.mediaFile,\n          this.state.location,\n          this.context.selectedCategoriesIds\n        )\n      this.setState({ redirect: true })\n      // this.props.history.push('/')\n \n    }  catch(err){\n          console.log(err)\n     }\n  };\n    \n    onInputChange = e => {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value,\n        });\n    }\n\n\n    getMediaFile = file => {\n      this.setState({ mediaFile: [...this.state.mediaFile, file]})\n    }\n\n    getLocation = spotLocation => {\n      this.setState({location: spotLocation})\n    }\n\n  render () {\n    if(this.state.redirect){\n      return <Redirect to=\"/\" />\n    }\n    console.log('midia' , this.state.mediaFile)\n    return (\n      <div>\n        <form onSubmit={this.onSubmit}>\n            <input onChange={this.onInputChange} type=\"text\" placeholder=\"title\" name=\"title\"/>\n            <input onChange={this.onInputChange} type=\"text\" placeholder=\"content\" name=\"content\"/>\n            <Places getLocation={this.getLocation} />\n              <SelectCategoriesPost/>\n            <button>Create post</button>\n        </form>\n        <ImageUpload getMediaFile={this.getMediaFile}/>\n      </div>\n    )\n  }\n}\n\nexport default Post\n\n","import React from 'react'\nimport PostContext from '../contexts/PostContext'\n\nimport New from '../components/Post/New'\n\nclass CreatePost extends React.Component {\n static contextType = PostContext\n\n  render () {\n    return (\n      <div>\n        <h1>new post page</h1>\n        <New postContext={this.context} />\n      </div>\n    )\n  }\n}\n\nexport default CreatePost\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst Landing = () => {\n  return (\n    <div>\n      <h1>Landing</h1>\n      <Link to='/login'>Login</Link>\n      <Link to='/signup'>Signup</Link>\n    </div>\n  )\n}\n\nexport default Landing\n","import '../components/scss/Notifications.scss'\nimport React from 'react'\nimport { Link } from 'react-router-dom'\nimport AuthContext from '../contexts/AuthContext'\nimport { GET_NOTIFICATIONS } from '../api/userAPI'\nimport TimeAgo from '../components/TimeAgo'\n\nclass Notifications extends React.Component {\n  static contextType = AuthContext\n\n  state = { notifications: [] }\n\n  async componentDidMount(){\n    this.getNotifications()\n  }\n\n  componentWillUnmount() {\n    this.context.resetUnreadNotifications(this.context.loggedInUser._id)\n  }\n\n  getNotifications = async userId => {\n    userId = this.context.loggedInUser._id\n    try {\n      const notifications = await GET_NOTIFICATIONS(userId)\n      this.setState({ notifications })\n    } catch(err){\n      console.log(err)\n    }\n  }\n\n  render () {\n    return (\n      <div className=\"notifications-section\">\n        <h1>Notifications</h1>\n        {this.state.notifications.map((notification, i) => {\n          return <div key={i}>\n            <div className=\"container\">\n              <div>\n                <div className=\"text\">\n                   <span className=\"orange-dot\"></span>\n                   <Link to={notification.postUrl}>\n                     <p><strong>{notification.name}</strong> {notification.action}  </p>\n                   </Link>\n                 </div>\n                 <TimeAgo date={notification.date} />\n              </div>\n              <p>image</p>\n            </div>\n          </div>\n        })}\n      </div>\n    )\n  }\n}\n\nexport default Notifications\n","import './scss/navbar.scss'\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport AuthContext  from '../contexts/AuthContext'\nimport HomeIcon from '@material-ui/icons/Home';\nimport MapIcon from '@material-ui/icons/Map';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport PersonIcon from '@material-ui/icons/Person';\n\nclass NavBar extends React.Component {\n  static contextType = AuthContext\n\n  logoutUser = () =>{\n    this.context.logout()\n    .then(() => {\n      this.context.setUser(null);  \n    })\n  }\n  \n\n  render() {\n    return (\n      <nav className='absolute-bot'>\n        <div className=\"ui secondary fluid five item menu\">\n          <NavLink to=\"/\" className=\"item\" activeClassName=\"active\" exact>\n            <HomeIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink to=\"/spots-map\" className=\"item\" activeClassName=\"active\">\n            <MapIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink to=\"/create-post\" className=\"item\" activeClassName=\"active\">\n            <AddCircleOutlineIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink to={`/${this.context.loggedInUser._id}/notifications`} className=\"item\" activeClassName=\"active\" exact>\n            <NotificationsIcon className=\"icon-navbar\" />\n            {this.context.unreadNotifications >= 1 && \n              <div className=\"notification-number-1\"><span>{this.context.unreadNotifications}</span></div>\n            }\n            {this.context.unreadNotifications >= 10 && \n              <div className=\"notification-number-2\"><span>10+</span></div>\n            }\n          </NavLink>\n          <NavLink to={`/profile/${this.context.loggedInUser._id}`} className=\"item\" activeClassName=\"active\">\n            <PersonIcon className=\"icon-navbar\" />\n          </NavLink>\n          <NavLink onClick={this.logoutUser} to=\"/\">Logout</NavLink>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default NavBar;\n\n\n\n\n","import React from 'react'\nimport AuthContext  from '../../contexts/AuthContext'\nimport { EDIT_USER } from '../../api/userAPI'\nimport ImageUpload from '../Post/ImageUpload'\n\nclass EditProfile extends React.Component {\n  static contextType = AuthContext\n\n  state = { \n    mediaFile: [],\n    firstName: \"\",\n    lastName: \"\",\n    team: \"\",\n    hometown: \"\",\n    country: \"\",\n    }\n  \n  onSubmit = async e => {\n    e.preventDefault();\n      try {\n      await EDIT_USER(\n        this.context.loggedInUser._id,\n        this.state.mediaFile,\n        this.state.firstName,\n        this.state.lastName,\n        this.state.team,\n        this.state.hometown,\n        this.state.country\n      )\n      this.context.fetchUser()\n    }  catch(err){\n          console.log(err)\n     }\n  };\n    \n    onInputChange = e => {\n        const { name, value } = e.target;\n        this.setState({\n          [name]: value,\n        });\n    }\n\n\n    getMediaFile = url => {\n      this.setState({ mediaFile: [...this.state.mediaFile, url]})\n    }\n\n  render () {\n    return (\n      <div>\n        <form onSubmit={this.onSubmit}>\n            <ImageUpload getMediaFile={this.getMediaFile}/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.firstName} type=\"text\" name=\"firstName\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.lastName} type=\"text\" name=\"lastName\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.team} type=\"text\" name=\"team\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.hometown} type=\"text\" name=\"hometown\"/>\n            <input onChange={this.onInputChange} placeholder={this.context.loggedInUser && this.context.loggedInUser.country} type=\"text\" name=\"country\"/>\n            <button>Update User</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default EditProfile\n","import React, {Component} from 'react';\nimport { Link } from 'react-router-dom'\nimport AuthContext  from '../contexts/AuthContext'\nimport '../components/scss/signup.scss'\nimport '../components/scss/buttons.scss'\n\n\nexport default class Signup extends Component {\n  static contextType = AuthContext\n\n  state = {\n    firstName: '',\n    lastName:'',\n    email: '',\n    password: '',\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    try{\n    await this.context.signup(this.state) \n    this.context.setUser(this.state)\n    this.context.fetchUser()\n    this.props.history.push('/onboarding')\n    }\n    catch(err){\n      console.log(err)\n    }\n  };\n  \n  render() {\n\n    return (\n      <div className='signup'>\n          <h1>Altima</h1>\n        <form onSubmit={this.handleSubmit}>\n          <label>First Name</label>\n          <input onChange={this.handleChange} type=\"text\" name=\"firstName\" />\n          <label>Last Name</label>\n          <input onChange={this.handleChange} type=\"text\" name=\"lastName\" />\n          <label>Email</label>\n          <input onChange={this.handleChange} type=\"email\" name=\"email\" />\n          <label>Password</label>\n          <input onChange={this.handleChange} type=\"password\"  name=\"password\" />\n          <button className='primary-btn'>Signup</button>          \n          <p>Already have an acount? <Link to=\"/login\">Login</Link></p>\n        </form>\n      </div>\n    );\n  }\n}\n","import '../components/scss/buttons.scss'\nimport React from 'react'\n\nclass FacebookLogin extends React.Component {\n  render () {\n    return (\n      <div>\n        <a href='https://altima-app.herokuapp.com/auth/facebook' className='facebook-btn'><i className='fab fa-facebook' />Login with Facebook</a>\n      </div>\n    )\n  }\n}\n\nexport default FacebookLogin\n","import '../components/scss/login.scss'\nimport '../components/scss/buttons.scss'\nimport { Link } from 'react-router-dom'\nimport React, {Component} from 'react';\nimport AuthContext  from '../contexts/AuthContext'\nimport FacebookLogin from './FacebookLogin'\n\n\nexport default class Login extends Component {\n  static contextType = AuthContext\n\n  state = {\n    username: '',\n    password: '',\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const loggedInUser = await this.context.login(this.state);\n      this.context.setUser(loggedInUser.currentUser);\n      this.props.history.push('/');\n    } catch (err) {\n      console.log(err, \"message\");\n    }\n  };\n\n\n  render() {\n    return (\n      <div className='login'>\n        <h1 >altima</h1>\n        <FacebookLogin/>\n        <div className='or-line'>\n          <hr className='left'></hr> <span>or</span> <hr className='right'></hr>\n        </div>\n        <form onSubmit={this.handleSubmit}>\n          <label>Email</label>\n          <input\n            onChange={this.handleChange}\n            type=\"email\"\n            name=\"email\"\n          />\n          <label>Password</label>\n          <input\n            onChange={this.handleChange}\n            type=\"password\"\n            name=\"password\"\n          />\n          <button className='primary-btn'>Login</button>\n          <p>Don't you have an acount? <Link to=\"/signup\">Signup</Link></p>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch, Link, Redirect } from 'react-router-dom';\nimport AuthContext  from './contexts/AuthContext'\nimport ProtectedRoute from './components/ProtectedRoute'\n\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport OnBoarding from './pages/OnBoarding';\nimport SpotsMap from './pages/SpotsMap';\nimport CreatePost from './pages/CreatePost';\nimport Landing from './pages/Landing';\nimport Notifications from './pages/Notifications';\n\nimport Navbar from './components/Navbar'; \nimport EditProfile from './components/Profile/EditProfile';\nimport Signup from './components/Signup';\nimport Login from './components/Login';\n\nclass App extends React.Component {\n  static contextType = AuthContext\n\n  componentDidMount() {\n    this.context.fetchUser(); \n    this.context.getUnreadNotifications()\n  }\n  \n  render() {\n    console.log(this.context.loggedInUser, 'user')\n    if (this.context.isLoadingUser)\n      return <p>Loading...</p>\n    return (\n      <div>\n      {this.context.loggedInUser && <Navbar /> }    \n      \n        <Switch>      \n          { this.context.loggedInUser ?\n          <ProtectedRoute\n              exact path=\"/\"\n              user={this.context.loggedInUser}\n              component={Home}\n            /> : \n            <Route exact path=\"/\" component={Landing}/>\n          }\n\n            <Route\n              path=\"/login\"\n              component={Login} />\n            />  \n  \n            <Route\n              path=\"/signup\"\n              component={Signup} />\n            /> \n  \n            <Route\n              path=\"/onboarding\"\n              component={OnBoarding} />\n            /> \n  \n            <Route\n              exact path=\"/profile/:id\"\n              component={Profile} />\n            />\n        \n            <Route\n              path=\"/create-post\"\n              component={CreatePost} />\n            />   \n  \n            <Route\n              path=\"/profile/edit/:id\"\n              component={EditProfile} />\n            /> \n          \n            <Route\n              path=\"/spots-map\"\n              component={SpotsMap} />\n            /> \n\n            <Route\n              path={`/:id/notifications`}\n              component={Notifications} />\n            /> \n\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import './App.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport { BrowserRouter } from 'react-router-dom'\nimport { AuthStore } from './contexts/AuthContext'\nimport { PostContext } from './contexts/PostContext'\nimport { CategoryContext } from './contexts/CategoryContext'\n// Time ago\nimport JavascriptTimeAgo from 'javascript-time-ago'\nimport en from 'javascript-time-ago/locale/en'\nJavascriptTimeAgo.locale(en)\n\nReactDOM.render(<AuthStore><CategoryContext><PostContext><BrowserRouter><App /></BrowserRouter></PostContext></CategoryContext></AuthStore>, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAeCAYAAAAo5+5WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHLSURBVHgBrVbNVcJAEP4mB7liB9gBHQgdSAVKBepB8abe0ItQgbECsQLTAZSwHcgVfI91MrsJP293syF+7+0jmZn9mJ18MwnBA32DNk5wBcI533Z5daxL8Vpggy/8YkYTLF37yUk6wjX/PPFqIwwFjSm9YhIklixb+OTLHuohwwqD3ezpgPQb5tjHYMHk/YI8Kc0tPDYghew1HALJWN+xMcEc/wHirMfITMbJ9p+80HzUvJbVccJFtrY/gdAZ125Y1E4/sOw03vjywrtjhVPS9xxAogQXFL3gzOXgfXPe1/VkPchL0YEPhGf48RHwdXLiUBMor2cjNfehnRMvA5v98qPASZkzCWZFuPT6QkpKsIhTBeGWtanyGxv/jipVSPBIWrmHMDKY51HVnRkrqW8aRPMIrEYPMS1PRi2GeI0UoYdYD1lJLF3FcxXNkRbPYjvd1jKsm2W901AlceOsmbTIdo9YcHzWile6a9gjlqxZs6iLg2yNyYFIXRdIWbfDQ2MCdwZ5YExJlG8COonlWDElcZQgSGzJU/4JqWRqY1CLWLCSjxbl8Cjrw1HEViV97NdbbL5PqyhiITf1HpQGzS/WcWCG10X+dpZZHIk/peGJdwcc1tsAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/discobolo.4e253587.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFDSURBVHgBnZMtU8NAEIafu0RFgIgFi66klcWCLD+BH8AMMMzgGZjBgi22trG1xBZb29rYKphjL7l8XRvI8IrMZu/e3Xc/TtGAuSLigDM0Q/mNnXuDYU3IXD2SlXdVRbpmJIcTMSP2QbGVAIl6ZlERza1kgUv6QPGunvjQ5j6XdE5/TGxJIV9cSBRf3lZ8aVEDA+p67X/EIeNQzCOPlBHwUjZCFC345oFm7YqRls+xV8Oy1T1rl9lrxJp/QufS2hi6huGkxq7Opqq1MncyBpOPo4lMfJ/u0in+bA1pKDmXUrxPjIUwpguhzFGKX4m5oi+sTOEUzQmY9ybqYuVyYu+sxajSiuiyTrEb83u2WW2WwYqhJ52koP2sWgvgnsw+yRshJe3ku5GnnmS7u6/sqPaQywl4qxyGWVPinzA3DGTdTrrOfwA1X1g4JnG5gwAAAABJRU5ErkJggg==\""],"sourceRoot":""}